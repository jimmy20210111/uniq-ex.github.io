(this["webpackJsonpuniq-ex"]=this["webpackJsonpuniq-ex"]||[]).push([[0],{361:function(e,t,n){},364:function(e,t,n){},446:function(e,t){},447:function(e,t){},466:function(e,t){},468:function(e,t){},478:function(e,t){},480:function(e,t){},521:function(e,t){},523:function(e,t){},530:function(e,t){},531:function(e,t){},561:function(e,t){},580:function(e,t){},587:function(e,t,n){var a={"./aes":265,"./aes.js":265,"./big":266,"./big.js":266,"./ctx":166,"./ctx.js":166,"./ecdh":267,"./ecdh.js":267,"./ecp":268,"./ecp.js":268,"./ecp2":269,"./ecp2.js":269,"./ff":270,"./ff.js":270,"./fp":271,"./fp.js":271,"./fp12":272,"./fp12.js":272,"./fp2":273,"./fp2.js":273,"./fp4":274,"./fp4.js":274,"./gcm":275,"./gcm.js":275,"./hash256":276,"./hash256.js":276,"./hash384":277,"./hash384.js":277,"./hash512":278,"./hash512.js":278,"./mpin":279,"./mpin.js":279,"./newhope":280,"./newhope.js":280,"./nhs":281,"./nhs.js":281,"./pair":282,"./pair.js":282,"./rand":283,"./rand.js":283,"./rom_curve":284,"./rom_curve.js":284,"./rom_field":285,"./rom_field.js":285,"./rsa":286,"./rsa.js":286,"./sha3":287,"./sha3.js":287,"./uint64":288,"./uint64.js":288};function c(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=i,e.exports=c,c.id=587},615:function(e,t,n){},632:function(e,t,n){},633:function(e,t,n){},634:function(e,t,n){},636:function(e,t,n){},637:function(e,t,n){},638:function(e,t,n){},639:function(e,t,n){},640:function(e,t,n){},641:function(e,t,n){},643:function(e,t,n){},644:function(e,t,n){},645:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(1),i=n(0),s=n(22),r=n.n(s),o=n(20),l=n.n(o),d=n(37),u=n(12),j=n(39),b=n(28),p=n(34),m=n(11),h=n(5),f="TEST",O="36a94c3d66790153044a7cecd86180b3da32d340",v="21f4125ae8704deff4f58bad17108cbe8624a17c",x="1b51d29f0accd26b2522a0b4914012ec1ca49ca1",k=["/","/swap","/staking","/token","/governance"],N=function(e,t){var n=new RegExp("(^|&|[/?]+)".concat(t,"=([^&]*)(&|$)"),"i"),a=e.substr(1).match(n);return null!=a?a[2]:null};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=parseFloat(0===t?Math.round(e).toFixed(t):parseFloat(e).toFixed(t)).toString();return n&&(-1!==n.indexOf(".")?n.replace(/(\d)(?=(\d{3})+\.)/g,(function(e,t){return"".concat(t,",")})):n.replace(/(?=(\B\d{3})+$)/g,","))}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e.substr(0,6),"...").concat(e.substr(-4))},y=(n(361),function(e){var t=Object(m.c)((function(e){return{account:e.wallet.account}})).account,n=Object(i.useState)(!1),a=Object(h.a)(n,2),s=a[0],r=a[1],o=function(e){r(e)};return Object(c.jsxs)("div",{className:"header-wrapper",children:[s?Object(c.jsx)("div",{className:"modal-overlay",children:Object(c.jsxs)("div",{className:"modal-wrapper",children:[Object(c.jsx)("div",{className:"close-btn",onClick:function(){return o(!1)}}),Object(c.jsx)("p",{className:"intro-line",children:"uniq-ex is a pure github based DAO dex, all activities are logged on github."}),Object(c.jsxs)("p",{className:"intro-line",children:["You can open issues for discussion ",Object(c.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/uniq-ex/uniq-ex/issues",children:"here"})]}),Object(c.jsx)("p",{className:"intro-line",children:"uniq-ex's future business will not be limited to exchanges though, we may enter various DeFi markets like compound or hegic."}),Object(c.jsxs)("p",{className:"intro-line",children:["You can buy UNX(the governance token of uniq-ex) ",Object(c.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://uniq-ex.github.io/#/?asset=8&price=14",children:"here"})]})]})}):null,Object(c.jsx)("div",{className:"header",children:Object(c.jsxs)("div",{className:"content-wrapper",children:[Object(c.jsxs)("div",{className:"logo-wrapper",children:["UNIQ-EX",Object(c.jsx)("div",{className:"site-intro",onClick:function(){return o(!0)}})]}),Object(c.jsxs)("div",{className:"nav-list",children:[k.indexOf("/")>=0?Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsx)(j.b,{to:"/",children:"Trade"})}):null,k.indexOf("/swap")>=0?Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsx)(j.b,{to:"/swap",children:"Swap"})}):null,k.indexOf("/staking")>=0?Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsx)(j.b,{to:"/staking",children:"Staking"})}):null,k.indexOf("/governance")>=0?Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsx)(j.b,{to:"/governance",children:"Governance"})}):null,k.indexOf("/token")>=0?Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsx)(j.b,{to:"/token",children:"Token"})}):null]}),Object(c.jsxs)("div",{className:"".concat(t?"active":""," profile-wrapper"),children:[t&&Object(c.jsx)("span",{className:"account-address",children:w(t)}),t&&Object(c.jsx)("span",{className:"signout-btn",onClick:function(){"function"===typeof e.onSignOut&&e.onSignOut()},children:"Sign Out"}),!t&&Object(c.jsx)("span",{className:"connect-btn",onClick:function(){"function"===typeof e.onConnectWallet&&e.onConnectWallet()},children:"Connect Wallet"})]})]})})]})}),S=(n(364),function(e){return Object(c.jsx)("div",{className:"modal-overlay",children:Object(c.jsxs)("div",{className:"modal-wrapper",children:[Object(c.jsx)("div",{className:"close-btn",onClick:function(){return e.onCloseModal()}}),Object(c.jsx)("div",{className:"modal-icon-".concat(e.type," modal-icon")}),Object(c.jsx)("div",{className:"modal-text-".concat(e.type," modal-text"),children:e.text}),Object(c.jsx)("div",{className:"modal-extra-text",children:e.extraLink?Object(c.jsx)("a",{className:"transaction-link",target:"_blank",rel:"noreferrer",href:e.extraLink,children:e.extraText}):e.extraText})]})})}),T=function(e){var t=Object(m.c)((function(e){return{infoModal:e.modal.infoModal}})).infoModal,n=Object(m.b)(),s=Object(i.useCallback)((function(e,t){return n({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]);return Object(c.jsx)("div",{className:"modal-container",children:function(){var e=[];return t.show&&e.push(Object(c.jsx)(S,Object(a.a)(Object(a.a)({},t),{},{onCloseModal:function(){s("infoModal",Object.assign({},t,{show:!1}))}}))),e}()})},C=n(81),_=n(23),L=n(10),E=n(80),M=n(8),R=n.n(M),F=n(302),A=n.n(F).a.create({baseURL:"https://polarisexplorer.ont.io",timeout:3e4,headers:{"Content-Type":"application/json"}});A.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var U=A,I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};try{var n=JSON.parse(e);"wasm contract does not exist"===n.Result&&t("CONTRACT_ADDRESS_ERROR")}catch(a){}},D=Math.pow(10,6),P=(n(615),_.utils.StringReader),q=_.utils.reverseHex,W=function(){var e=Object(i.useState)({}),t=Object(h.a)(e,2),n=t[0],s=t[1],r=Object(i.useState)({}),o=Object(h.a)(r,2),j=o[0],b=o[1],f=Object(i.useState)(0),v=Object(h.a)(f,2),x=v[0],k=v[1],g=Object(i.useState)([]),w=Object(h.a)(g,2),y=w[0],S=w[1],T=Object(i.useState)([]),_=Object(h.a)(T,2),M=_[0],F=_[1],A=Object(i.useState)("all"),W=Object(h.a)(A,2),V=W[0],H=W[1],B=Object(i.useState)(""),X=Object(h.a)(B,2),G=X[0],K=X[1],Y=Object(i.useState)(""),$=Object(h.a)(Y,2),J=$[0],Q=$[1],z=Object(i.useState)(0),Z=Object(h.a)(z,2),ee=Z[0],te=Z[1],ne=Object(i.useState)([]),ae=Object(h.a)(ne,2),ce=ae[0],ie=ae[1],se=Object(i.useState)(0),re=Object(h.a)(se,2),oe=re[0],le=re[1],de=Object(i.useState)(0),ue=Object(h.a)(de,2),je=ue[0],be=ue[1],pe=Object(m.c)((function(e){return{account:e.wallet.account,stopInterval:e.common.stopInterval,tokens:e.common.tokens}})),me=pe.account,he=pe.stopInterval,fe=pe.tokens,Oe=Object(m.b)(),ve=Object(i.useCallback)((function(e,t){return Oe({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),xe=Object(i.useCallback)((function(e){return Oe({type:"SET_STOP_INTERVAL",stopInterval:e})}),[]),ke=Object(p.c)(),Ne=parseInt(N(window.location.hash,"asset")||1),ge=parseInt(N(window.location.hash,"price")||2);Object(i.useEffect)((function(){if(fe.length){var e=fe.filter((function(e){return Ne===e.id}))[0];s(e||fe[0]),e=fe.filter((function(e){return ge===e.id}))[0],b(e||fe[1])}}),[fe]),Object(i.useEffect)((function(){if(me&&n.id)if("ONT"!==n.name&&"ONG"!==n.name){var e={scriptHash:n.address,operation:"balanceOf",args:[{type:"Address",value:me}]};u.client.api.smartContract.invokeRead(e).then((function(e){e&&k(parseInt(q(e),16)/Math.pow(10,n.decimals))}))}else U({method:"get",url:"/v2/addresses/".concat(me,"/native/balances")}).then((function(e){if(0===e.code){var t=e.result.find((function(e){return e.asset_name===n.name.toLowerCase()}));k(t.balance)}})).catch((function(e){console.log(e)}))}),[me,n]),Object(i.useEffect)((function(){function e(){if(n.id){if(n.id===j.id)return S([]),void le(0);try{u.client.api.smartContract.invokeWasmRead({scriptHash:O,operation:"get_makes_of_pair",args:[{type:"Long",value:n.id},{type:"Long",value:j.id}]}).then((function(e){for(var t=[],a=new P(e),c=a.readUint128(),i=n.id<j.id?n.id:j.id,s=n.id<j.id?j.id:n.id,r=0;r<=1;r++)for(var o=a.readNextLen(),l=0;l<o;l++){var d={};d.make_id=a.readUint128(),d.price=a.readUint128(),d.amount=new R.a(a.readUint128()).toString(),d.asset_token_id=0===r?i:s,d.price_token_id=0===r?s:i,t.push(d)}le(c?n.id<j.id?c/D:D/c:0),S(t)})).catch((function(e){I(e,(function(t){"CONTRACT_ADDRESS_ERROR"===t?xe(!0):console.log("get makes of pair",e)}))}))}catch(e){console.log(e)}}}e();var t=!he&&setInterval(e,2e3);return function(){t&&clearInterval(t)}}),[n,j,me,he]),Object(i.useEffect)((function(){function e(){if(me)try{u.client.api.smartContract.invokeWasmRead({scriptHash:O,operation:"get_user_makes",args:[{type:"Address",value:me}]}).then((function(e){for(var t=[],n=new P(e),a=n.readNextLen(),c=0;c<a;c++){var i={};i.address=u.client.api.utils.hexToAddress(n.read(20)),i.asset_token_id=n.readUint128(),i.price_token_id=n.readUint128(),i.price=n.readUint128(),i.amount=n.readUint128(),i.make_id=n.readUint128(),t.push(i)}F(t)})).catch((function(e){I(e,(function(t){"CONTRACT_ADDRESS_ERROR"===t?xe(!0):console.log("get user makes",e)}))}))}catch(e){console.log(e)}}e();var t=!he&&setInterval(e,5e3);return function(){t&&clearInterval(t)}}),[n,j,me,he]),Object(i.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(l.a.mark((function e(){var t,n,a,c,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe.length){e.next=17;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasmRead({scriptHash:O,operation:"stat",args:[]});case 4:for(t=e.sent,n=[],a=new P(t),be(a.readUint128()),c=a.readNextLen(),i=function(e){var t={};t.id=a.readUint128();var c=fe.filter((function(e){return e.id===t.id}))[0];t.balance=new R.a(a.readUint128()).div(new R.a(Math.pow(10,c.decimals))).toString(),t.name=c.name,n.push(t)},s=0;s<c;s++)i();ie(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),I(e.t0,(function(t){"CONTRACT_ADDRESS_ERROR"===t?xe(!0):console.log("get stat",e.t0)}));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}e();var n=setInterval((function(){he?clearInterval(n):e()}),5e3);return function(){return clearInterval(n)}}),[fe,he]),Object(i.useEffect)((function(){te((G||0)*(J||0))}),[G,J]),Object(i.useEffect)((function(){H("all")}),[me]);var we=function(e){if(fe.length){var t="asset"===e?_e:Le,n={};return n="asset"===e?fe.filter((function(e){return Ne===e.id}))[0]||fe[0]:fe.filter((function(e){return ge===e.id}))[0]||fe[1],Object(c.jsx)(E.a,{className:"token-select",defaultValue:n,options:fe,isSearchable:!1,components:{Option:function(e){return Object(c.jsx)(L.f.Option,Object(a.a)(Object(a.a)({},e),{},{children:Object(c.jsxs)("div",{className:"option-wrapper",children:[Object(c.jsx)("div",{className:"icon-".concat(e.label," option-icon")}),Object(c.jsx)("div",{className:"option-label",children:e.label})]})}))},SingleValue:function(e){var t=e.children,n=Object(C.a)(e,["children"]);return Object(c.jsx)(L.f.SingleValue,Object(a.a)(Object(a.a)({},n),{},{children:Object(c.jsxs)("div",{className:"option-wrapper",children:[Object(c.jsx)("div",{className:"icon-".concat(t," option-icon")}),Object(c.jsx)("div",{className:"option-label",children:t})]})}))}},onChange:function(e){return t(e)},theme:function(e){return Object(a.a)(Object(a.a)({},e),{},{borderRadius:0,colors:Object(a.a)(Object(a.a)({},e.colors),{},{primary:"#2c2c2c"})})}})}};function ye(e){if(n.id){var t="my"===V?M:y;return"sell"===e?t.filter((function(e){return e.asset_token_id===n.id&&e.price_token_id===j.id})).map((function(e){return Object(c.jsxs)("div",{className:"my-make-item reverse",children:[Object(c.jsx)("div",{className:"make-item-detail make-sell",children:e.price/D}),Object(c.jsx)("div",{className:"make-item-detail",children:new R.a(e.amount).div(Math.pow(10,n.decimals)).toString()}),"my"===V&&Object(c.jsx)("div",{className:"unmake-btn",onClick:function(){return Te(e.make_id)},children:"Cancel"})]},e.make_id)})):t.filter((function(e){return e.asset_token_id===j.id&&e.price_token_id===n.id})).map((function(e){return Object(c.jsxs)("div",{className:"my-make-item",children:[Object(c.jsx)("div",{className:"make-item-detail make-buy",children:D/e.price}),Object(c.jsx)("div",{className:"make-item-detail",children:new R.a(e.amount).times(e.price).div(D).div(Math.pow(10,j.decimals)).toString()}),"my"===V&&Object(c.jsx)("div",{className:"unmake-btn",onClick:function(){return Te(e.make_id)},children:"Cancel"})]},e.make_id)}))}return null}function Se(){return(Se=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me){e.next=3;break}return ke.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!n.id){e.next=24;break}if(n.id!==j.id){e.next=7;break}return ke.error("Please select different token"),e.abrupt("return");case 7:if(!(G<=0)){e.next=10;break}return ke.error("Price should be greater than 0"),e.abrupt("return");case 10:if(!(J<=0)){e.next=13;break}return ke.error("Amount should be greater than 0"),e.abrupt("return");case 13:return e.prev=13,t=[{type:"Address",value:me},{type:"Long",value:n.id},{type:"Long",value:j.id},{type:"Long",value:new R.a(G).times(D).integerValue(R.a.ROUND_DOWN).toString()},{type:"Long",value:new R.a(J).times(new R.a(Math.pow(10,n.decimals))).integerValue(R.a.ROUND_DOWN).toString()}],e.next=17,u.client.api.smartContract.invokeWasm({scriptHash:O,operation:"make",args:t,gasPrice:2500,gasLimit:3e7,requireIdentity:!1});case 17:(a=e.sent).transaction&&ve("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"https://explorer.ont.io/transaction/".concat(a.transaction)}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),ve("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"".concat(e.t0),extraLink:""});case 24:case"end":return e.stop()}}),e,null,[[13,21]])})))).apply(this,arguments)}function Te(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!me||!t){e.next=11;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasm({scriptHash:O,operation:"unmake",args:[{type:"Address",value:me},{type:"Long",value:t}],gasPrice:2500,gasLimit:3e7,requireIdentity:!1});case 4:(n=e.sent).transaction&&ve("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"https://explorer.ont.io/transaction/".concat(n.transaction)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ve("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"".concat(e.t0),extraLink:""});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function _e(e){e.value!==n.id&&(S([]),le(0),s(fe.filter((function(t){return t.id===e.value}))[0]))}function Le(e){e.value!==j.id&&(S([]),le(0),b(fe.filter((function(t){return t.id===e.value}))[0]))}return Object(c.jsxs)("div",{className:"swap-wrapper",children:[Object(c.jsxs)("div",{className:"trade-container",children:[Object(c.jsxs)("div",{className:"make-wrapper",children:[Object(c.jsx)("div",{className:"container-header",children:"Trade"}),Object(c.jsxs)("div",{className:"form-item",children:[Object(c.jsxs)("div",{className:"item-title",children:["Sell",Object(c.jsxs)("span",{className:"hint",children:["Balance: ",x]})]}),Object(c.jsxs)("div",{className:"input-wrapper",children:[we("asset"),Object(c.jsx)("input",{className:"input inline-input",placeholder:"Amount",type:"number",onChange:function(e){return Q(e.target.value)}})]})]}),Object(c.jsxs)("div",{className:"form-item",children:[Object(c.jsxs)("div",{className:"item-title",children:["Price",Object(c.jsx)("span",{className:"hint",children:function(){if(n.id)return"1 ".concat(n.name," = ").concat(G||"?"," ").concat(j.name)}()})]}),Object(c.jsx)("div",{className:"input-wrapper",children:Object(c.jsx)("input",{className:"input",placeholder:"Price",type:"number",onChange:function(e){return K(e.target.value)}})})]}),Object(c.jsxs)("div",{className:"form-item",children:[Object(c.jsx)("div",{className:"item-title",children:"Will Get"}),Object(c.jsxs)("div",{className:"input-wrapper",children:[we("price"),Object(c.jsx)("input",{className:"input inline-input",disabled:!0,type:"number",value:ee})]})]}),je?Object(c.jsxs)("p",{className:"fee-rate",children:["* The fee rate of transaction is ",je/100,"%"]}):null,Object(c.jsx)("div",{className:"make-btn",onClick:function(){return function(){return Se.apply(this,arguments)}()},children:"Sell"})]}),Object(c.jsxs)("div",{className:"trade-panel",children:[Object(c.jsxs)("div",{className:"panel-header",children:[Object(c.jsx)("div",{className:"panel-title",children:"Order Book"}),Object(c.jsxs)("div",{className:"tabs",children:[Object(c.jsx)("div",{className:"all"===V?"tab-wrapper selected":"tab-wrapper",onClick:function(){return H("all")},children:"All"}),Object(c.jsx)("div",{className:"my"===V?"tab-wrapper selected":"tab-wrapper",onClick:function(){me?H("my"):ke.show("Please Connect Wallet First")},children:"My"})]})]}),Object(c.jsxs)("div",{className:"list-title",children:[Object(c.jsx)("div",{className:"blank-placeholder"}),Object(c.jsxs)("div",{className:"title-items",children:[Object(c.jsxs)("div",{className:"item-text",children:["Price (",function(){if(n.id&&j.id)return"".concat(n.name,"/").concat(j.name)}(),")"]}),Object(c.jsxs)("div",{className:"item-text",children:["Amount (",function(){if(n.id)return n.name}(),")"]}),"my"===V&&Object(c.jsx)("div",{className:"item-placeholder"})]})]}),Object(c.jsxs)("div",{className:"sell-section",children:[Object(c.jsx)("div",{className:"section-title",children:"Sell"}),Object(c.jsx)("div",{className:"make-list reverse",children:ye("sell")})]}),"all"===V&&0!=oe?Object(c.jsxs)("div",{className:"last-price-wrapper",children:[Object(c.jsx)("div",{className:"last-price-label",children:"Last Price"}),Object(c.jsx)("div",{className:"last-price",children:oe}),Object(c.jsx)("div",{className:"last-price-placeholder"})]}):null,Object(c.jsxs)("div",{className:"buy-section",children:[Object(c.jsx)("div",{className:"section-title",children:"Buy"}),Object(c.jsx)("div",{className:"make-list",children:ye("buy")})]})]})]}),Object(c.jsxs)("div",{className:"token-pool",children:[Object(c.jsx)("div",{className:"container-header",children:"Token Balance"}),Object(c.jsx)("div",{className:"pool-items",children:function(){if(ce.length)return ce.filter((function(e){return 0!=e.balance})).map((function(e){return Object(c.jsxs)("div",{className:"pool-item",children:[Object(c.jsx)("div",{className:"icon-".concat(e.name," token-name"),children:e.name}),Object(c.jsx)("div",{className:"token-balance",children:e.balance})]},e.name)}))}()})]})]})},V=_.utils.StringReader,H=_.utils.reverseHex,B=function(){var e=Object(m.c)((function(e){return{account:e.wallet.account,pairs:e.swap.pairs}})),t=e.account,n=e.pairs,a=Object(m.b)(),c=Object(i.useCallback)((function(e){return a({type:"SET_SWAP_TOKENS",tokens:e})}),[]),s=Object(i.useCallback)((function(e){return a({type:"SET_PAIRS",pairs:e})}),[]);function r(){if(!n.length)try{u.client.api.smartContract.invokeWasmRead({scriptHash:x,operation:"stat",args:[]}).then((function(e){for(var t=[],n=new V(e),a=n.readNextLen(),i=0;i<a;i++){var r={};r.address=H(n.read(20)),r.token1=n.readUint128(),r.token2=n.readUint128(),r.id=n.readUint128(),r.reserve1=n.readUint128(),r.reserve2=n.readUint128(),t.push(r)}for(var o=[],l=n.readNextLen(),d=0;d<l;d++)o.push(n.readUint128());console.log(t),s(t),c(o)})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}return Object(i.useEffect)((function(){r();var e=setInterval((function(){return r}),3e3);return function(){e&&clearInterval(e)}}),[t,n]),null},X=n(307),G=function(e,t,n){var a=[];return function t(n,c){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if((i=Object(X.a)(i)).push(n),n!==c){var s=[];e.map((function(e){e.token1===n?s.push(e.token2):e.token2===n&&s.push(e.token1)}));for(var r=0,o=s;r<o.length;r++){var l=o[r];i.includes(l)||t(l,c,i)}}else a.push(i)}(t,n),a.sort((function(e,t){return e.length-t.length})),a},K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?t.reserve1*t.reserve2/(t.reserve1-e)-t.reserve2:t.reserve1*t.reserve2/(t.reserve2-e)-t.reserve1},Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?t.reserve1-t.reserve1*t.reserve2/(t.reserve2+e):t.reserve2-t.reserve1*t.reserve2/(t.reserve1+e)},$=function(e,t,n,a){var c=t.find((function(e){return e.token1===n&&e.token2===a}));return c?Y(e,c):(c=t.find((function(e){return e.token1===a&&e.token2===n})))?Y(e,c,!0):void 0},J=function(e,t,n,a){var c=t.find((function(e){return e.token1===n&&e.token2===a}));return c?K(e,c):(c=t.find((function(e){return e.token1===a&&e.token2===n})))?K(e,c,!0):void 0},Q=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"exactin",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,i=G(n,a,c),s=0,r=1/0,o=[],l=0;l<i.length;l++)if("exactin"===e){for(var d=0,u=0;u<i[l].length-1;u++)d=$(t,n,i[l][u],i[l][u+1]);d>s&&(s=d,o=i[l])}else{for(var j=1/0,b=0;b<i[l].length-1;b++)j=J(t,n,i[l][b],i[l][b+1]);j<r&&j>0&&(r=j,o=i[l])}return"exactin"===e?[s,o]:"exactout"===e?[r,o]:void 0},z=(n(632),_.utils.StringReader,_.utils.reverseHex),Z=function(){var e=Object(i.useState)(0),t=Object(h.a)(e,2),n=t[0],s=t[1],r=Object(i.useState)("exactin"),o=Object(h.a)(r,2),j=o[0],f=o[1],O=Object(i.useState)({}),v=Object(h.a)(O,2),k=v[0],N=v[1],w=Object(i.useState)({}),y=Object(h.a)(w,2),S=y[0],T=y[1],_=Object(i.useState)(0),M=Object(h.a)(_,2),F=M[0],A=M[1],I=Object(i.useState)(0),D=Object(h.a)(I,2),P=D[0],q=D[1],W=Object(i.useState)(!1),V=Object(h.a)(W,2),H=V[0],X=V[1],G=Object(i.useState)(0),K=Object(h.a)(G,2),Y=(K[0],K[1],Object(i.useState)([])),$=Object(h.a)(Y,2),J=$[0],Z=$[1],ee=Object(i.useState)(!1),te=Object(h.a)(ee,2),ne=te[0],ae=te[1],ce=Object(i.useState)(!1),ie=Object(h.a)(ce,2),se=ie[0],re=ie[1],oe=Object(m.c)((function(e){return{account:e.wallet.account,pairs:e.swap.pairs,tokens:e.common.tokens,swapTokens:e.swap.tokens}})),le=oe.account,de=oe.pairs,ue=oe.tokens,je=oe.swapTokens,be=Object(m.b)(),pe=Object(i.useCallback)((function(e,t){return be({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),me=Object(p.c)(),he=Object(b.f)();B(),Object(i.useEffect)((function(){F>0&&P>0?(ae(!0),re(!0)):(ae(!1),re(!1))}),[F,P]),Object(i.useEffect)((function(){if(ue.length&&je.length){var e=je.map((function(e){return ue.find((function(t){return t.id===e}))}));N(e[0]),T(e[1])}}),[ue,je]),Object(i.useEffect)((function(){k.id&&S.id&&function(e,t){if(de.length&&e&&t&&de.find((function(n){return n.token1===e&&n.token2===t||n.token1===t&&n.token2===e})))return!0;return!1}(k.id,S.id)?X(!0):X(!1)}),[k,S]),Object(i.useEffect)((function(){if(le&&k.id)if("ONT"!==k.name&&"ONG"!==k.name){var e={scriptHash:k.address,operation:"balanceOf",args:[{type:"Address",value:le}]};u.client.api.smartContract.invokeRead(e).then((function(e){e&&s(parseInt(z(e),16)/Math.pow(10,k.decimals))}))}else U({method:"get",url:"/v2/addresses/".concat(le,"/native/balances")}).then((function(e){if(0===e.code){var t=e.result.find((function(e){return e.asset_name===k.name.toLowerCase()}));s(t.balance)}})).catch((function(e){console.log(e)}))}),[le,k]);var fe=function(e){if(ue.length&&je.length){var t=je.map((function(e){return ue.find((function(t){return t.id===e}))})),n="1"===e?Oe:ve,i="1"===e?t[0]:t[1];return Object(c.jsx)(E.a,{className:"token-select",defaultValue:i,options:t,isSearchable:!1,components:{Option:function(e){return Object(c.jsx)(L.f.Option,Object(a.a)(Object(a.a)({},e),{},{children:Object(c.jsxs)("div",{className:"option-wrapper",children:[Object(c.jsx)("div",{className:"icon-".concat(e.label," option-icon")}),Object(c.jsx)("div",{className:"option-label",children:e.label})]})}))},SingleValue:function(e){var t=e.children,n=Object(C.a)(e,["children"]);return Object(c.jsx)(L.f.SingleValue,Object(a.a)(Object(a.a)({},n),{},{children:Object(c.jsxs)("div",{className:"option-wrapper",children:[Object(c.jsx)("div",{className:"icon-".concat(t," option-icon")}),Object(c.jsx)("div",{className:"option-label",children:t})]})}))}},onChange:function(e){return n(e)},theme:function(e){return Object(a.a)(Object(a.a)({},e),{},{borderRadius:0,colors:Object(a.a)(Object(a.a)({},e.colors),{},{primary:"#2c2c2c"})})}})}};function Oe(e){e.value!==k.id&&(N(ue.filter((function(t){return t.id===e.value}))[0]),A(0),q(0))}function ve(e){e.value!==S.id&&(T(ue.filter((function(t){return t.id===e.value}))[0]),A(0),q(0))}function xe(){return(xe=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le){e.next=3;break}return me.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!(F<=0||P<=0)){e.next=6;break}return me.error("Amount should be greater than 0"),e.abrupt("return");case 6:if(!k.id||k.id!==S.id){e.next=9;break}return me.error("Input should be different"),e.abrupt("return");case 9:return e.prev=9,t=[{type:"Address",value:le},{type:"Long",value:new R.a(F).times(new R.a(Math.pow(10,k.decimals))).integerValue(R.a.ROUND_DOWN).toString()},{type:"Long",value:new R.a(P).times(new R.a(Math.pow(10,S.decimals))).integerValue(R.a.ROUND_DOWN).toString()},{type:"Array",value:J.map((function(e){return{type:"Long",value:e}}))},{type:"Address",value:le}],e.next=13,u.client.api.smartContract.invokeWasm({scriptHash:x,operation:"exactin"===j?"swap_exact_tokens_for_tokens":"swap_tokens_for_exact_tokens",args:t,gasPrice:2500,gasLimit:3e7,requireIdentity:!1});case 13:(n=e.sent).transaction&&pe("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"https://explorer.ont.io/transaction/".concat(n.transaction)}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),pe("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"".concat(e.t0),extraLink:""});case 20:case"end":return e.stop()}}),e,null,[[9,17]])})))).apply(this,arguments)}return Object(c.jsx)("div",{className:"sw-wrapper",children:Object(c.jsxs)("div",{className:"sw-container",children:[Object(c.jsxs)("div",{className:"sw-tabs",children:[Object(c.jsx)("div",{className:"sw-tab active",children:"Swap"}),Object(c.jsx)("div",{className:"sw-tab",onClick:function(){he.push("/pool")},children:"Pool"})]}),Object(c.jsxs)("div",{className:"sw-content",children:[Object(c.jsxs)("div",{className:"form-item",children:[Object(c.jsxs)("div",{className:"item-title",children:["From",Object(c.jsxs)("span",{className:"hint",children:["Balance: ",n]})]}),Object(c.jsxs)("div",{className:"input-wrapper",children:[fe("1"),Object(c.jsx)("input",{className:"input inline-input",value:F,placeholder:"0.0",type:"number",onChange:function(e){return function(e){var t=e.target.value;if(f("exactin"),A(t),ue.length&&de.length&&t){var n=t*Math.pow(10,k.decimals),a=Q("exactin",n,de,k.id,S.id),c=Object(h.a)(a,2),i=c[0],s=c[1];q(i/Math.pow(10,S.decimals)),Z(s)}else 0==t&&q(0)}(e)}})]})]}),Object(c.jsx)("div",{className:"icon-arrow-down"}),Object(c.jsxs)("div",{className:"form-item",children:[Object(c.jsx)("div",{className:"item-title",children:"To"}),Object(c.jsxs)("div",{className:"input-wrapper",children:[fe("2"),Object(c.jsx)("input",{className:"input inline-input",value:P,placeholder:"0.0",type:"number",onChange:function(e){return function(e){var t=e.target.value;if(f("exactout"),q(e.target.value),ue.length&&de.length&&t){var n=t*Math.pow(10,S.decimals),a=Q("exactout",n,de,k.id,S.id),c=Object(h.a)(a,2),i=c[0],s=c[1];A(i/Math.pow(10,k.decimals)),Z(s)}else 0==t&&A(0)}(e)}})]})]}),ne?Object(c.jsxs)("div",{className:"sw-price-wrapper",children:["Price",Object(c.jsx)("span",{className:"sw-price-info",children:"".concat(g(P/F,6)," ").concat(S.name," per ").concat(k.name)})]}):null,H?null:Object(c.jsx)("div",{className:"add-liquidity-hint",children:"Add liquidity to enable swaps for this pair."}),H?Object(c.jsx)("div",{className:"sw-swap-btn",onClick:function(){return function(){return xe.apply(this,arguments)}()},children:"Swap"}):Object(c.jsx)("div",{className:"sw-swap-btn disabled",children:"Illiquidity"})]}),se?Object(c.jsxs)("div",{className:"sw-hint-wrapper",children:[Object(c.jsx)("div",{className:"sw-input-output",children:"exactin"===j?Object(c.jsxs)("p",{children:["Minimum Received:",Object(c.jsxs)("span",{children:[g(.995*P,6)," ",S.name]})]}):Object(c.jsxs)("p",{children:["Maximum Sold:",Object(c.jsxs)("span",{children:[g(1.005*F,6)," ",k.name]})]})}),Object(c.jsx)("div",{className:"sw-price-impact",children:function(){var e,t=de.find((function(e){return e.token1===k.id&&e.token2===S.id}));return t?e=t.reserve2/Math.pow(10,S.decimals)/(t.reserve1/Math.pow(10,k.decimals)):(t=de.find((function(e){return e.token1===S.id&&e.token2===k.id})))&&(e=t.reserve1/Math.pow(10,k.decimals)/(t.reserve2/Math.pow(10,S.decimals))),Object(c.jsxs)("p",{children:["Price Impact:",Object(c.jsxs)("span",{children:[Math.abs((P/F-e)/e*100).toFixed(2),"%"]})]})}()}),Object(c.jsxs)("div",{className:"sw-best-path",children:[Object(c.jsx)("p",{children:"Route:"}),Object(c.jsx)("div",{className:"sw-best-path-list",children:function(){if(J.length){var e=[];return J.map((function(t,n){var a=ue.find((function(e){return e.id===t}));n>0&&e.push(Object(c.jsx)("div",{className:"icon-arrow-right"})),e.push(Object(c.jsx)("div",{className:"path-icon icon-".concat(a.name),children:a.name}))})),e}}()})]})]}):null]})})},ee=n(79),te=(n(633),_.utils.StringReader),ne=function(){var e=Object(i.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],s=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens,pairs:e.swap.pairs}})),r=s.account,o=s.tokens,l=s.pairs,d=Object(b.f)();return B(),Object(i.useEffect)((function(){r&&l.length&&Promise.all(l.map((function(e){return t=e.id,u.client.api.smartContract.invokeWasmRead({scriptHash:x,operation:"balanceOf",args:[{type:"Long",value:t},{type:"Address",value:r}]}).then((function(e){var n=new te(e).readUint128();return Object(ee.a)({},t,n)}));var t}))).then((function(e){a(e)}))}),[r,l]),Object(c.jsx)("div",{className:"pool-wrapper",children:Object(c.jsxs)("div",{className:"pool-container",children:[Object(c.jsxs)("div",{className:"sw-tabs",children:[Object(c.jsx)("div",{className:"sw-tab",onClick:function(){d.push("/swap")},children:"Swap"}),Object(c.jsx)("div",{className:"sw-tab active",children:"Pool"})]}),Object(c.jsxs)("div",{className:"pool-content",children:[Object(c.jsx)("div",{className:"pool-add-liquidity-btn",onClick:function(){d.push("/pool/add")},children:"Add Liquidity"}),Object(c.jsxs)("div",{className:"pool-liquidity-list",children:[Object(c.jsx)("div",{className:"my-liquidity",children:"Your Liquidity"}),n.length&&l.length&&o.length?n.map((function(e){var t=Object.keys(e)[0],n=l.find((function(e){return e.id==t})),a=o.find((function(e){return e.id===n.token1})),i=o.find((function(e){return e.id===n.token2})),s=e[t]/Math.pow(10,18),r=Math.sqrt(Math.pow(s,2)/(n.reserve1*n.reserve2/Math.pow(10,a.decimals+i.decimals))),u=(n.reserve1*r/Math.pow(10,a.decimals)).toFixed(2),j=(n.reserve2*r/Math.pow(10,i.decimals)).toFixed(2);return Object(c.jsxs)("div",{className:"pool-liquidity-item",children:[Object(c.jsxs)("div",{className:"liquidity-item-detail",children:[Object(c.jsx)("div",{className:"token-icon icon-".concat(a.name)}),Object(c.jsx)("div",{className:"token-icon icon-".concat(i.name)}),Object(c.jsx)("div",{className:"token-pair",children:Object(c.jsxs)("strong",{children:[a.name,"/",i.name]})}),Object(c.jsxs)("div",{className:"pair-position",children:[Object(c.jsx)("strong",{children:"Pooled"}),": ",u," / ",j]}),Object(c.jsxs)("div",{className:"pool-tokens",children:[Object(c.jsx)("strong",{children:"Pool Tokens"}),": ",s.toFixed(6)]})]}),Object(c.jsx)("div",{className:"remove-liquidity-btn",onClick:function(){return function(e){d.push("/pool/remove/".concat(e))}(t)},children:"Remove Liquidity"})]})})):Object(c.jsx)("div",{className:"pool-empty-lp",children:"No Liquidities"})]})]})]})})},ae=(n(634),_.utils.StringReader,_.utils.reverseHex),ce=function(){var e=Object(i.useState)({}),t=Object(h.a)(e,2),n=t[0],s=t[1],r=Object(i.useState)({}),o=Object(h.a)(r,2),j=o[0],f=o[1],O=Object(i.useState)(0),v=Object(h.a)(O,2),k=v[0],N=v[1],g=Object(i.useState)(0),w=Object(h.a)(g,2),y=w[0],S=w[1],T=Object(i.useState)(0),_=Object(h.a)(T,2),M=_[0],F=_[1],A=Object(i.useState)(0),I=Object(h.a)(A,2),D=I[0],P=I[1],q=Object(i.useState)(!0),W=Object(h.a)(q,2),V=W[0],H=W[1],X=Object(i.useState)(!1),G=Object(h.a)(X,2),K=G[0],Y=G[1],$=Object(i.useState)(!1),J=Object(h.a)($,2),Q=J[0],z=J[1],Z=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens,pairs:e.swap.pairs,swapTokens:e.swap.tokens}})),ee=Z.account,te=Z.tokens,ne=Z.pairs,ce=Z.swapTokens,ie=Object(m.b)(),se=Object(i.useCallback)((function(e,t){return ie({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),re=Object(p.c)(),oe=Object(b.f)();function le(){return ne.find((function(e){return e.token1===n.id&&e.token2===j.id||e.token1===j.id&&e.token2===n.id}))}function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if("ONT"!==e.name&&"ONG"!==e.name){var n={scriptHash:e.address,operation:"balanceOf",args:[{type:"Address",value:ee}]};u.client.api.smartContract.invokeRead(n).then((function(n){n&&t(parseInt(ae(n),16)/Math.pow(10,e.decimals))}))}else U({method:"get",url:"/v2/addresses/".concat(ee,"/native/balances")}).then((function(n){if(0===n.code){var a=n.result.find((function(t){return t.asset_name===e.name.toLowerCase()}));t(a.balance)}})).catch((function(e){console.log(e)}))}B(),Object(i.useEffect)((function(){n.id&&j.id&&n.id!==j.id?H(!0):H(!1)}),[n,j]),Object(i.useEffect)((function(){!n.id||!j.id||n.id==j.id||ne.length&&le()?Y(!1):Y(!0)}),[ne,n,j]),Object(i.useEffect)((function(){n.id&&j.id?z(!0):z(!1)}),[ne,n,j,M,D]),Object(i.useEffect)((function(){te.length&&ce.length&&(s(te.filter((function(e){return ce.indexOf(e.id)>=0}))[0]),f(te.filter((function(e){return ce.indexOf(e.id)>=0}))[1]))}),[ee,ce,te]),Object(i.useEffect)((function(){ee&&n.id&&de(n,(function(e){N(e)}))}),[ee,n]),Object(i.useEffect)((function(){ee&&j.id&&de(j,(function(e){S(e)}))}),[ee,j]);var ue=function(e){if(te.length&&ce.length){var t=ce.map((function(e){return te.find((function(t){return t.id===e}))})),n="1"===e?je:be,i="1"===e?t[0]:t[1];return Object(c.jsx)(E.a,{className:"token-select",defaultValue:i,options:t,isSearchable:!1,components:{Option:function(e){return Object(c.jsx)(L.f.Option,Object(a.a)(Object(a.a)({},e),{},{children:Object(c.jsxs)("div",{className:"option-wrapper",children:[Object(c.jsx)("div",{className:"icon-".concat(e.label," option-icon")}),Object(c.jsx)("div",{className:"option-label",children:e.label})]})}))},SingleValue:function(e){var t=e.children,n=Object(C.a)(e,["children"]);return Object(c.jsx)(L.f.SingleValue,Object(a.a)(Object(a.a)({},n),{},{children:Object(c.jsxs)("div",{className:"option-wrapper",children:[Object(c.jsx)("div",{className:"icon-".concat(t," option-icon")}),Object(c.jsx)("div",{className:"option-label",children:t})]})}))}},onChange:function(e){return n(e)},theme:function(e){return Object(a.a)(Object(a.a)({},e),{},{borderRadius:0,colors:Object(a.a)(Object(a.a)({},e.colors),{},{primary:"#2c2c2c"})})}})}};function je(e){e.value!==n.id&&(s(te.filter((function(t){return t.id===e.value}))[0]),F(0),P(0))}function be(e){e.value!==j.id&&(f(te.filter((function(t){return t.id===e.value}))[0]),F(0),P(0))}function pe(){if(n.id&&j.id&&ne.length){var e=ne.find((function(e){return e.token1===n.id&&e.token2===j.id}));if(e)return e.reserve2/Math.pow(10,j.decimals)/(e.reserve1/Math.pow(10,n.decimals));if(e=ne.find((function(e){return e.token1===j.id&&e.token2===n.id})))return e.reserve1/Math.pow(10,n.decimals)/(e.reserve2/Math.pow(10,j.decimals))}return 0}function me(){return(me=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee){e.next=3;break}return re.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!(M<=0||D<=0)){e.next=6;break}return re.error("Amount should be greater than 0"),e.abrupt("return");case 6:if(!n.id||n.id!==j.id){e.next=9;break}return re.error("Input should be different"),e.abrupt("return");case 9:return e.prev=9,t=[{type:"Address",value:ee},{type:"Long",value:n.id},{type:"Long",value:j.id},{type:"Long",value:new R.a(M).times(new R.a(Math.pow(10,n.decimals))).integerValue(R.a.ROUND_UP).toString()},{type:"Long",value:new R.a(D).times(new R.a(Math.pow(10,j.decimals))).integerValue(R.a.ROUND_UP).toString()},{type:"Long",value:new R.a(M).times(new R.a(Math.pow(10,n.decimals))).times(.995).integerValue(R.a.ROUND_UP).toString()},{type:"Long",value:new R.a(D).times(new R.a(Math.pow(10,j.decimals))).times(.995).integerValue(R.a.ROUND_UP).toString()},{type:"Address",value:ee}],e.next=13,u.client.api.smartContract.invokeWasm({scriptHash:x,operation:"add_liquidity",args:t,gasPrice:2500,gasLimit:3e7,requireIdentity:!1});case 13:(a=e.sent).transaction&&se("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"https://explorer.ont.io/transaction/".concat(a.transaction)}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),se("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"".concat(e.t0),extraLink:""});case 20:case"end":return e.stop()}}),e,null,[[9,17]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"add-liquidity-wrapper",children:[Object(c.jsxs)("div",{className:"al-header",children:["Add Liquidity",Object(c.jsx)("div",{className:"back-icon",onClick:function(){oe.goBack()}})]}),Object(c.jsxs)("div",{className:"al-wrapper",children:[V&&K?Object(c.jsx)("div",{className:"first-provider-hint",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"You are the first liquidity provider."}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"The ratio of tokens you add will set the price of this pool."]})}):null,Object(c.jsxs)("div",{className:"form-item",children:[Object(c.jsxs)("div",{className:"item-title",children:["Input",Object(c.jsxs)("span",{className:"hint",children:["Balance: ",k]})]}),Object(c.jsxs)("div",{className:"input-wrapper",children:[ue("1"),Object(c.jsx)("input",{className:"input inline-input",value:M,placeholder:"0.0",type:"number",onChange:function(e){return function(e){var t=e.target.value;F(t),te.length&&ne.length&&le()&&(t?P(t*pe()):0==t&&P(0))}(e)}})]})]}),Object(c.jsx)("div",{className:"icon-plus"}),Object(c.jsxs)("div",{className:"form-item",children:[Object(c.jsxs)("div",{className:"item-title",children:["Input",Object(c.jsxs)("span",{className:"hint",children:["Balance: ",y]})]}),Object(c.jsxs)("div",{className:"input-wrapper",children:[ue("2"),Object(c.jsx)("input",{className:"input inline-input",value:D,placeholder:"0.0",type:"number",onChange:function(e){return function(e){var t=e.target.value;P(t),te.length&&ne.length&&le()&&(t?P(t/pe()):0==t&&P(0))}(e)}})]})]}),V&&Q?Object(c.jsxs)("div",{className:"al-price-wrapper",children:[Object(c.jsxs)("div",{className:"al-price-item",children:[Object(c.jsx)("div",{className:"price-item-detail",children:pe().toFixed(4)}),Object(c.jsxs)("div",{className:"price-item-label",children:[j.name," per ",n.name]})]}),Object(c.jsxs)("div",{className:"al-price-item",children:[Object(c.jsx)("div",{className:"price-item-detail",children:(1/pe()).toFixed(4)}),Object(c.jsxs)("div",{className:"price-item-label",children:[n.name," per ",j.name]})]}),Object(c.jsxs)("div",{className:"al-price-item",children:[Object(c.jsx)("div",{className:"price-item-detail",children:function(){if(K)return"100%";var e=le(),t=M*Math.pow(10,n.decimals)*D*Math.pow(10,j.decimals);return e?"".concat((t/(t+e.reserve1*e.reserve2)*100).toFixed(2),"%"):"0%"}()}),Object(c.jsx)("div",{className:"price-item-label",children:"Share of Pool"})]})]}):null,Object(c.jsx)("div",{className:"al-add-btn",onClick:function(){return function(){return me.apply(this,arguments)}()},children:"Add"})]})]})},ie=n(306),se=(n(635),n(636),_.utils.StringReader),re=function(){var e=Object(i.useState)(0),t=Object(h.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)({}),r=Object(h.a)(s,2),o=r[0],j=r[1],f=Object(i.useState)({}),O=Object(h.a)(f,2),v=O[0],k=O[1],N=Object(i.useState)(0),g=Object(h.a)(N,2),w=g[0],y=g[1],S=Object(i.useState)(0),T=Object(h.a)(S,2),C=T[0],_=T[1],L=Object(i.useState)({}),E=Object(h.a)(L,2),M=E[0],F=E[1],A=Object(i.useState)(0),U=Object(h.a)(A,2),I=U[0],D=U[1],P=Object(i.useState)(!1),q=Object(h.a)(P,2),W=q[0],V=q[1],H=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens,pairs:e.swap.pairs}})),X=H.account,G=H.tokens,K=H.pairs,Y=Object(m.b)(),$=Object(i.useCallback)((function(e,t){return Y({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),J=Object(p.c)(),Q=Object(b.f)(),z=Object(b.g)().pathname.match(/\/([^/]+)$/)[1];function Z(){return M.reserve2/Math.pow(10,v.decimals)/(M.reserve1/Math.pow(10,o.decimals))}function ee(){return(ee=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X){e.next=3;break}return J.show("Please Connect Wallet First"),e.abrupt("return");case 3:return e.prev=3,t=[{type:"Address",value:X},{type:"Long",value:o.id},{type:"Long",value:v.id},{type:"Long",value:new R.a(n).times(I/100).integerValue(R.a.ROUND_UP).toString()},{type:"Long",value:new R.a(w).times(Math.pow(10,o.decimals)).times(.995).integerValue(R.a.ROUND_UP).toString()},{type:"Long",value:new R.a(C).times(Math.pow(10,v.decimals)).times(.995).integerValue(R.a.ROUND_UP).toString()},{type:"Address",value:X}],e.next=7,u.client.api.smartContract.invokeWasm({scriptHash:x,operation:"add_liquidity",args:t,gasPrice:2500,gasLimit:3e7,requireIdentity:!1});case 7:(a=e.sent).transaction&&$("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"https://explorer.ont.io/transaction/".concat(a.transaction)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),$("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"".concat(e.t0),extraLink:""});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return B(),Object(i.useEffect)((function(){var e;X&&K.length&&z&&(e=z,u.client.api.smartContract.invokeWasmRead({scriptHash:x,operation:"balanceOf",args:[{type:"Long",value:e},{type:"Address",value:X}]}).then((function(e){return new se(e).readUint128()}))).then((function(e){a(e)}))}),[X,K]),Object(i.useEffect)((function(){if(G.length&&K.length&&z){var e=K.find((function(e){return e.id==z}));F(e),j(G.find((function(t){return t.id===e.token1}))),k(G.find((function(t){return t.id===e.token2}))),V(!0)}}),[K,G]),Object(i.useEffect)((function(){if(M&&o.id&&v.id&&z&&n){var e=n/Math.pow(10,18),t=Math.sqrt(Math.pow(e,2)/(M.reserve1*M.reserve2/Math.pow(10,o.decimals+v.decimals))),a=M.reserve1*t/Math.pow(10,o.decimals),c=M.reserve2*t/Math.pow(10,v.decimals);y(I/100*a),_(I/100*c)}}),[I,M,o,v]),Object(c.jsxs)("div",{className:"remove-liquidity-wrapper",children:[Object(c.jsxs)("div",{className:"rl-header",children:["Remove Liquidity",Object(c.jsx)("div",{className:"back-icon",onClick:function(){Q.goBack()}})]}),Object(c.jsxs)("div",{className:"rl-wrapper",children:[Object(c.jsxs)("div",{className:"rl-amount",children:[Object(c.jsxs)("div",{className:"rl-amount-label",children:["Amount",Object(c.jsxs)("span",{children:[I,"%"]})]}),Object(c.jsx)(ie.a,{value:I,onChange:function(e){return D(e)}}),Object(c.jsxs)("div",{className:"quick-items",children:[Object(c.jsx)("div",{className:"quick-item",onClick:function(){return D(25)},children:"25%"}),Object(c.jsx)("div",{className:"quick-item",onClick:function(){return D(50)},children:"50%"}),Object(c.jsx)("div",{className:"quick-item",onClick:function(){return D(75)},children:"75%"}),Object(c.jsx)("div",{className:"quick-item",onClick:function(){return D(100)},children:"Max"})]})]}),Object(c.jsx)("div",{className:"icon-arrow-down"}),Object(c.jsxs)("div",{className:"rl-receive-wrapper",children:[Object(c.jsxs)("div",{className:"receive-token-item icon-".concat(o.name),children:[o.name,Object(c.jsx)("span",{children:w})]}),Object(c.jsxs)("div",{className:"receive-token-item icon-".concat(v.name),children:[v.name,Object(c.jsx)("span",{children:C})]})]}),W?Object(c.jsxs)("div",{className:"rl-price-wrapper",children:[Object(c.jsx)("div",{className:"price-wrapper-lable",children:"Price"}),Object(c.jsxs)("div",{className:"price",children:["1 ",o.name," = ",Z()," ",v.name]}),Object(c.jsxs)("div",{className:"price-reverse",children:["1 ",v.name," = ",1/Z()," ",o.name]})]}):null,I?Object(c.jsx)("div",{className:"rl-remove-btn",onClick:function(){return function(){return ee.apply(this,arguments)}()},children:"Remove"}):Object(c.jsx)("div",{className:"rl-remove-btn disabled",children:"Remove"})]})]})},oe=(n(637),_.utils.StringReader),le=function(){var e=Object(i.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],s=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens}})),r=s.account,o=s.tokens,l=Object(b.f)(),d=Object(p.c)();function j(){if(!n.length)try{u.client.api.smartContract.invokeWasmRead({scriptHash:v,operation:"stat",args:[]}).then((function(e){for(var t=[],n=new oe(e),c=n.readNextLen(),i=0;i<c;i++){var s={};s.id=n.readUint128(),s.weight=n.readUint128(),s.balance=n.readUint128(),t.push(s)}for(var r={},o=0;o<t.length;o++)r[t[o].id]=t[o];var l=Object.values(r).filter((function(e){return e.balance})).reduce((function(e,t){return e+t.weight}),0),d=Object.values(r).map((function(e){return{id:e.id,originWeight:e.weight,weight:e.balance?e.weight/l:0,balance:e.balance}}));a(d)})).catch((function(e){console.log(e)}))}catch(e){console.log(e)}}return Object(i.useEffect)((function(){j();var e=!n.length&&setInterval((function(){return j}),1e3);return function(){e&&clearInterval(e)}}),[n]),Object(c.jsx)("div",{className:"stake-container",children:Object(c.jsxs)("div",{className:"stake-pool",children:[Object(c.jsx)("div",{className:"title"}),Object(c.jsx)("div",{className:"pool-list",children:function(){if(o.length)return o.map((function(e){var t=(n.find((function(t){return t.id===e.id}))||{}).balance;return Object(c.jsx)("div",{className:"pool-list-item",children:Object(c.jsxs)("div",{className:"item-detail",children:[Object(c.jsxs)("div",{className:"staking-token",children:[Object(c.jsx)("div",{className:"staking-text",children:"Deposit"}),Object(c.jsx)("div",{className:"staking-token-icon icon-".concat(e.name),children:e.name})]}),Object(c.jsxs)("div",{className:"earn-line",children:["Earn",Object(c.jsx)("span",{children:"UNX"})]}),Object(c.jsxs)("div",{className:"total-staking",children:["Total Staking",Object(c.jsx)("span",{children:new R.a(t||0).div(Math.pow(10,e.decimals)).toString()})]}),Object(c.jsx)("div",{className:"select-btn",onClick:function(){return function(e){r?l.push("/staking/".concat(e.id)):d.show("Please Connect Wallet First")}(e)},children:"Stake"})]})},e.name)}))}()})]})})},de=(n(638),_.utils.StringReader),ue=function(e){var t=Object(i.useState)({}),n=Object(h.a)(t,2),a=n[0],s=n[1],r=Object(i.useState)(""),o=Object(h.a)(r,2),j=o[0],f=o[1],O=Object(i.useState)({}),x=Object(h.a)(O,2),k=x[0],N=x[1],g=Object(i.useState)("stake"),w=Object(h.a)(g,2),y=w[0],S=w[1],T=Object(i.useState)(!1),C=Object(h.a)(T,2),_=C[0],L=C[1],E=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens}})),M=E.account,F=E.tokens,A=Object(m.b)(),U=Object(i.useCallback)((function(e,t){return A({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),I=Object(p.c)(),D=Object(b.g)().pathname.match(/\/([^/]+)$/)[1];function P(){var e;(e=D,u.client.api.smartContract.invokeWasmRead({scriptHash:v,operation:"account_stake_info",args:[{type:"Address",value:M},{type:"Long",value:e}]}).then((function(t){var n=new de(t);return{id:e,balance:n.readUint128(),interest:n.readUint128()}}))).then((function(e){N(e)})).catch((function(e){console.log("get account stakes",e)}))}function q(e){M?(S(e),L(!0)):I.show("Please Connect Wallet First")}function W(){return(W=Object(d.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=3;break}return I.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!a.id){e.next=24;break}if(!(j<=0)){e.next=7;break}return I.error("Amount should be greater than 0"),e.abrupt("return");case 7:if(!("unstake"===y&&j>k.balance)){e.next=10;break}return I.error("Amount should be less than your balance"),e.abrupt("return");case 10:return e.prev=10,t=[{type:"Address",value:M},{type:"Long",value:a.id},{type:"Long",value:new R.a(j).times(new R.a(Math.pow(10,a.decimals))).integerValue(R.a.ROUND_DOWN).toString()}],console.log(t),n={scriptHash:v,operation:y,args:t,gasPrice:2500,gasLimit:3e7,requireIdentity:!1},e.next=16,u.client.api.smartContract.invokeWasm(n);case 16:(c=e.sent).transaction&&(L(!1),U("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"https://explorer.ont.io/transaction/".concat(c.transaction)})),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),L(!1),U("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"".concat(e.t0),extraLink:""});case 24:case"end":return e.stop()}}),e,null,[[10,20]])})))).apply(this,arguments)}function V(){return(V=Object(d.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=3;break}return I.show("Please Connect Wallet First"),e.abrupt("return");case 3:return e.prev=3,t=[{type:"Address",value:M},{type:"Long",value:a.id}],n={scriptHash:v,operation:"harvest",args:t,gasPrice:2500,gasLimit:3e7,requireIdentity:!1},e.next=8,u.client.api.smartContract.invokeWasm(n);case 8:(c=e.sent).transaction&&(L(!1),U("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"https://explorer.ont.io/transaction/".concat(c.transaction)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),U("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"".concat(e.t0),extraLink:""});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){M&&F.length&&s(F.find((function(e){return e.id==D})))}),[F,M]),Object(i.useEffect)((function(){if(M&&F.length){P();var e=!k.id&&setInterval(P,2e3);return function(){e&&clearInterval(e)}}}),[F,M]),Object(i.useEffect)((function(){M||N({})}),[M]),Object(c.jsxs)("div",{className:"stake-container",children:[Object(c.jsxs)("div",{className:"stake-title",children:["Earn ",Object(c.jsx)("span",{className:"icon-UNX",children:"UNX"})," by ",Object(c.jsx)("span",{className:"icon-".concat(a.name),children:a.name||""})]}),Object(c.jsxs)("div",{className:"stake-token-detail",children:[Object(c.jsx)("div",{className:"stake-token-amount icon-".concat(a.name),children:new R.a(k.balance||0).div(Math.pow(10,a.decimals||0)).toString()}),Object(c.jsxs)("div",{className:"stake-token-actions",children:[Object(c.jsx)("div",{className:"stake-token-action",onClick:function(){return q("stake")},children:"Stake"}),Object(c.jsx)("div",{className:"stake-token-action",onClick:function(){return q("unstake")},children:"Unstake"})]})]}),Object(c.jsxs)("div",{className:"harvest-token-detail",children:[Object(c.jsx)("div",{className:"harvest-token-amount icon-UNX",children:new R.a(k.interest||0).div(Math.pow(10,9)).toString()}),Object(c.jsx)("div",{className:"harvest-token-actions",children:Object(c.jsx)("div",{className:"harvest-token-action",onClick:function(){return function(){return V.apply(this,arguments)}()},children:"Harvest"})})]}),_?Object(c.jsx)("div",{className:"modal-overlay",children:Object(c.jsxs)("div",{className:"modal-wrapper",children:[Object(c.jsx)("div",{className:"close-btn",onClick:function(){L(!1)}}),Object(c.jsxs)("div",{className:"stake-wrapper",children:[Object(c.jsx)("div",{className:"icon-".concat(a.name," token-placeholder")}),Object(c.jsx)("div",{className:"form-item",children:Object(c.jsx)("div",{className:"input-wrapper",children:Object(c.jsx)("input",{className:"input inline-input",placeholder:"Amount",type:"number",onChange:function(e){return f(e.target.value)}})})}),Object(c.jsx)("div",{className:"stake-btn",onClick:function(){return function(){return W.apply(this,arguments)}()},children:"stake"===y?"Stake":"Unstake"})]})]})}):null]})},je=(n(639),function(e){return Object(c.jsx)("div",{className:"coming-soon-placeholder"})}),be=(n(640),function(e){var t=Object(m.c)((function(e){return{poolStat:e.gov.poolStat}})).poolStat;return Object(c.jsxs)("div",{className:"governance-wrapper",children:[Object(c.jsxs)("div",{className:"overview-wrapper",children:[Object(c.jsx)("div",{className:"overview-title",children:"Overview"}),Object(c.jsxs)("div",{className:"overview-sections",children:[Object(c.jsxs)("div",{className:"overview-left",children:[Object(c.jsx)("p",{className:"overview-section-title",children:"Total UNX"}),Object(c.jsx)("p",{className:"overview-detail",children:g(t.distributionInfo.amount||0)})]}),Object(c.jsxs)("div",{className:"overview-right",children:[Object(c.jsx)("p",{className:"overview-section-title",children:"Daily Distribution"}),Object(c.jsxs)("p",{className:"overview-detail",children:[g(((t.distributionInfo.amount||0)/(t.distributionInfo.period||1)*86400).toFixed(9))," ",Object(c.jsx)("span",{children:"UNX"})]})]})]})]}),Object(c.jsxs)("div",{className:"distribution-wrapper",children:[Object(c.jsx)("div",{className:"overview-title",children:"Distribution"}),Object(c.jsxs)("div",{className:"distribution-sections",children:[Object(c.jsx)("div",{className:"pie-svg",children:Object(c.jsxs)("svg",{className:"donut",width:"240px",height:"240px",viewBox:"0 0 42 42",role:"img",children:[Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#2BBE7F","stroke-width":"4","stroke-dasharray":"80, 20","stroke-dashoffset":"100"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"120"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FE332F","stroke-width":"4","stroke-dasharray":"8, 92","stroke-dashoffset":"219.5"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"311.5"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#F4BA5E","stroke-width":"4","stroke-dasharray":"8, 92","stroke-dashoffset":"411"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"503"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#2B3962","stroke-width":"4","stroke-dasharray":"3, 97","stroke-dashoffset":"602.5"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"699.5"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#F18DA5","stroke-width":"4","stroke-dasharray":"1, 99","stroke-dashoffset":"799"}),Object(c.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"898"})]})}),Object(c.jsxs)("div",{className:"pie-desc",children:[Object(c.jsxs)("div",{className:"d-item",children:[Object(c.jsx)("div",{className:"d-item-color",style:{background:"#2BBE7F"}}),Object(c.jsx)("div",{className:"d-item-name",children:"Community"}),Object(c.jsx)("div",{className:"d-item-ratio",children:"80%"})]}),Object(c.jsxs)("div",{className:"d-item",children:[Object(c.jsx)("div",{className:"d-item-color",style:{background:"#FE332F"}}),Object(c.jsx)("div",{className:"d-item-name",children:"Developer"}),Object(c.jsx)("div",{className:"d-item-ratio",children:"8%"})]}),Object(c.jsxs)("div",{className:"d-item",children:[Object(c.jsx)("div",{className:"d-item-color",style:{background:"#F4BA5E"}}),Object(c.jsx)("div",{className:"d-item-name",children:"Foundation"}),Object(c.jsx)("div",{className:"d-item-ratio",children:"8%"})]}),Object(c.jsxs)("div",{className:"d-item",children:[Object(c.jsx)("div",{className:"d-item-color",style:{background:"#2B3962"}}),Object(c.jsx)("div",{className:"d-item-name",children:"Resoucse Extension"}),Object(c.jsx)("div",{className:"d-item-ratio",children:"3%"})]}),Object(c.jsxs)("div",{className:"d-item",children:[Object(c.jsx)("div",{className:"d-item-color",style:{background:"#F18DA5"}}),Object(c.jsx)("div",{className:"d-item-name",children:"Volunteer"}),Object(c.jsx)("div",{className:"d-item-ratio",children:"1%"})]})]})]})]})]})}),pe=_.utils.StringReader,me=_.utils.hexstr2str,he=_.utils.reverseHex,fe=(n(641),function(){var e=Object(p.c)(),t=Object(m.c)((function(e){return{loadingToken:e.common.loadingToken,account:e.wallet.account}})),n=t.account,a=t.loadingToken,s=Object(m.b)(),r=Object(i.useCallback)((function(e){return s({type:"SET_ACCOUNT",account:e})}),[]);function o(){return h.apply(this,arguments)}function h(){return(h=Object(d.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.client.api.provider.getProvider();case 3:return t.next=5,u.client.api.network.getNetwork();case 5:if(!(n=t.sent)||n.type===f){t.next=9;break}return e.error("Please connect to the ".concat(f,"-Net")),t.abrupt("return");case 9:return t.next=11,u.client.api.asset.getAccount();case 11:a=t.sent,r(a),localStorage.setItem("account",a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),"NO_PROVIDER"===t.t0&&e.error("Please install wallet extension first");case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}return function(){var e=Object(m.c)((function(e){return{stopInterval:e.common.stopInterval,tokens:e.common.tokens}})),t=e.stopInterval,n=e.tokens,a=Object(m.b)(),c=Object(i.useCallback)((function(e){return a({type:"SET_LOADING_TOKEN",loadingToken:e})}),[]),s=Object(i.useCallback)((function(e){return a({type:"SET_TOKENS",tokens:e})}),[]),r=Object(i.useCallback)((function(e){return a({type:"SET_STOP_INTERVAL",stopInterval:e})}),[]),o=Object(i.useCallback)((function(e){return a({type:"SET_POOL_STAT",poolStat:e})}),[]);function l(){if(!n.length)try{u.client.api.smartContract.invokeWasmRead({scriptHash:"75380de39d6a08edfb075f675ef5ee20ef030eb8",operation:"stat",args:[]}).then((function(e){var t=new pe(e),n={};n.amount=t.readUint128()/Math.pow(10,9),n.period=t.readUint128(),n.startTimeStamp=t.readUint128(),n.settledTimeStamp=t.readUint128();for(var a=[],i=t.readNextLen(),r=0;r<i;r++){var l={},d=t.readNextLen();l.name=me(t.read(d)),l.address=he(t.read(20)),l.weight=t.readUint128(),a.push(l)}for(var u=t.readBoolean(),j=[],b=t.readNextLen(),p=0;p<b;p++){var m={};m.id=t.readUint128();var h=t.readNextLen();m.name=me(t.read(h)),m.address=he(t.read(20)),m.ty=t.readUint8(),m.decimals=t.readUint128(),j.push(m)}for(var f={},O=0;O<j.length;O++)f[j[O].name]=j[O];var v=Object.values(f).map((function(e){return{id:e.id,decimals:e.decimals,address:e.address,name:e.name,value:e.id,label:e.name}}));c(!1),s(v),o({distributionInfo:n,pools:a,upgrade:u})})).catch((function(e){console.log(e),I(e,(function(t){console.log(t),"CONTRACT_ADDRESS_ERROR"===t?r(!0):console.log("get all tokens",e)}))}))}catch(e){console.log(e)}}Object(i.useEffect)((function(){l();var e=!t&&!n.length&&setInterval((function(){return l}),1e3);return function(){e&&clearInterval(e)}}),[n,t])}(),Object(c.jsx)(j.a,{children:Object(c.jsxs)("div",{className:"app",children:[a?Object(c.jsx)("div",{className:"modal-overlay",children:Object(c.jsxs)("div",{className:"modal-wrapper transparent-bg",children:[Object(c.jsx)("div",{className:"modal-icon-loading modal-icon"}),Object(c.jsx)("div",{className:"modal-text light",children:"Loading..."})]})}):null,null===n&&Object(c.jsx)("div",{className:"connect-wallet-overlay",children:Object(c.jsxs)("div",{className:"connect-wrapper",children:[Object(c.jsx)("p",{className:"connect-title",children:"Connect Wallet"}),Object(c.jsx)("div",{className:"wallet-item",onClick:function(){return o()},children:"Cyano Wallet"})]})}),Object(c.jsx)(T,{}),Object(c.jsx)(y,{onSignOut:function(){return r(""),void localStorage.setItem("account","")},onConnectWallet:function(){return o()}}),Object(c.jsx)("div",{className:"main-wrapper",children:Object(c.jsxs)(b.c,{children:[k.indexOf("/")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/",children:Object(c.jsx)(W,{})}):null,k.indexOf("/swap")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/swap",children:Object(c.jsx)(Z,{})}):null,k.indexOf("/swap")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/pool",children:Object(c.jsx)(ne,{})}):null,k.indexOf("/swap")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/pool/add",children:Object(c.jsx)(ce,{})}):null,k.indexOf("/swap")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/pool/remove/:id",children:Object(c.jsx)(re,{})}):null,k.indexOf("/staking")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/staking",children:Object(c.jsx)(le,{})}):null,k.indexOf("/staking")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/staking/:id",children:Object(c.jsx)(ue,{})}):null,k.indexOf("/token")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/token",children:Object(c.jsx)(je,{})}):null,k.indexOf("/governance")>=0?Object(c.jsx)(b.a,{exact:!0,path:"/governance",children:Object(c.jsx)(be,{})}):null]})})]})})}),Oe=n(116),ve=n(304),xe={infoModal:{show:!1,type:"",text:"",extraText:"",extraLink:""}},ke={account:localStorage.getItem("account")},Ne={loadingToken:!0,stopInterval:!1,tokens:[]},ge={poolStat:{distributionInfo:{},pools:[],upgrade:!1}},we={tokens:[],pairs:[]},ye=Object(Oe.a)({modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODAL":return Object(a.a)(Object(a.a)({},e),{},Object(ee.a)({},t.modalType,t.modalDetail));default:return Object(a.a)({},e)}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCOUNT":return Object(a.a)(Object(a.a)({},e),{},{account:t.account});default:return Object(a.a)({},e)}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING_TOKEN":return Object(a.a)(Object(a.a)({},e),{},{loadingToken:t.loadingToken});case"SET_STOP_INTERVAL":return Object(a.a)(Object(a.a)({},e),{},{stopInterval:t.stopInterval});case"SET_TOKENS":return Object(a.a)(Object(a.a)({},e),{},{tokens:t.tokens});default:return Object(a.a)({},e)}},gov:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POOL_STAT":return Object(a.a)(Object(a.a)({},e),{},{poolStat:t.poolStat});default:return Object(a.a)({},e)}},swap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SWAP_TOKENS":return Object(a.a)(Object(a.a)({},e),{},{tokens:t.tokens});case"SET_PAIRS":return Object(a.a)(Object(a.a)({},e),{},{pairs:t.pairs});default:return Object(a.a)({},e)}}}),Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,648)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))},Te=(n(643),n(644),Object(Oe.b)(ye));u.client.registerClient({});var Ce={timeout:5e3,position:p.b.TOP_CENTER};r.a.render(Object(c.jsx)(p.a,Object(a.a)(Object(a.a)({template:ve.a},Ce),{},{children:Object(c.jsx)(m.a.Provider,{value:Te,children:Object(c.jsx)(fe,{})})})),document.getElementById("root")),Se()}},[[645,1,2]]]);
//# sourceMappingURL=main.6f1a7516.chunk.js.map