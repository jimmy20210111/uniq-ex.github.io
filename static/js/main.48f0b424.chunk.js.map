{"version":3,"sources":["../node_modules/milagro-crypto-js/src sync /^/.//.*$","utils/common.js","config.js","utils/errorHandle.js","App.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","getHashString","hash","name","reg","RegExp","value","substr","match","networkType","contractAddress","handleError","callback","json","JSON","parse","Result","priceDecimals","StringReader","utils","hexstr2str","App","useState","localStorage","getItem","account","setAccount","tokens","setTokens","assetToken","setAssetToken","priceToken","setPriceToken","makes","setMakes","myMakes","setMyMakes","makeView","setMakeView","price","setPrice","amount","setAmount","total","setTotal","pool","setPool","lastPrice","setLastPrice","show","type","text","extraText","extraLink","infoModal","setInfoModal","showSiteIntro","setShowSiteIntro","loadingTokens","setLoadingTokens","stopInterval","setStopInterval","Alert","useAlert","urlAssetTokenId","parseInt","window","location","urlPriceTokenId","getAllTokens","length","client","api","smartContract","invokeWasmRead","scriptHash","operation","args","then","tokenStr","parsedTokens","strReader","tokenCount","readNextLen","i","token","nameLength","read","address","ty","readUint8","decimals","readUint128","push","tokenMap","filteredTokens","values","t","label","tempToken","filter","catch","errorCode","console","log","onConnectWallet","a","provider","getProvider","network","getNetwork","error","asset","getAccount","accountAddress","setItem","BigNumber","times","integerValue","ROUND_DOWN","toString","invokeWasm","gasPrice","gasLimit","requireIdentity","makeResult","transaction","onUnmake","makeId","getMakes","curMakes","m","asset_token_id","price_token_id","className","div","Math","pow","onClick","make_id","generateTokenSelection","onChangeToken","onChangeAssetToken","onChangePriceToken","defaultToken","defaultValue","options","isSearchable","components","Option","props","SingleValue","children","onChange","theme","borderRadius","colors","primary","toggleShowSiteIntro","useEffect","interval","setInterval","clearInterval","getMakesOfPair","makeStr","parsedMakes","pairLastPrice","tempAssetTokenId","tempPriceTokenId","j","makeCount","make","getUserMakes","hexToAddress","getStat","statStr","tokenPool","balance","target","rel","href","placeholder","event","generatePriceHint","disabled","onMake","getPriceToken","getAmountHint","tp","generateTokenPool","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Ontology","registerClient","timeout","position","positions","TOP_RIGHT","ReactDOM","render","template","AlertTemplate","document","getElementById"],"mappings":"mWAAA,IAAIA,EAAM,CACT,QAAS,IACT,WAAY,IACZ,QAAS,IACT,WAAY,IACZ,QAAS,IACT,WAAY,IACZ,SAAU,IACV,YAAa,IACb,QAAS,IACT,WAAY,IACZ,SAAU,IACV,YAAa,IACb,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,SAAU,IACV,YAAa,IACb,QAAS,IACT,WAAY,IACZ,QAAS,IACT,WAAY,IACZ,QAAS,IACT,WAAY,IACZ,YAAa,IACb,eAAgB,IAChB,YAAa,IACb,eAAgB,IAChB,YAAa,IACb,eAAgB,IAChB,SAAU,IACV,YAAa,IACb,YAAa,IACb,eAAgB,IAChB,QAAS,IACT,WAAY,IACZ,SAAU,IACV,YAAa,IACb,SAAU,IACV,YAAa,IACb,cAAe,IACf,iBAAkB,IAClB,cAAe,IACf,iBAAkB,IAClB,QAAS,IACT,WAAY,IACZ,SAAU,IACV,YAAa,IACb,WAAY,IACZ,cAAe,KAIhB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,K,sNC9Db,SAASY,EAAcC,EAAMC,GAClC,IAAMC,EAAM,IAAIC,OAAJ,eAAmBF,EAAnB,iBAAwC,KAC9CG,EAAQJ,EAAKK,OAAO,GAAGC,MAAMJ,GAEnC,OAAa,MAATE,EAAyBA,EAAM,GAE5B,KCfF,IAAMG,EAAc,OACdC,EAAkB,2CCDlBC,EAAc,SAAClB,GAA4B,IAAzBmB,EAAwB,uDAAb,aAClCC,EAAOC,KAAKC,MAAMtB,GACJ,iCAAhBoB,EAAKG,QACPJ,EAAS,2BCSPK,G,OAAa,SAAG,GAAM,IACpBC,EAA6BC,QAA7BD,aAAcE,EAAeD,QAAfC,WAGTC,EAAM,WAAO,IAAD,EACOC,mBAASC,aAAaC,QAAQ,YADrC,mBAChBC,EADgB,KACPC,EADO,OAEKJ,mBAAS,IAFd,mBAEhBK,EAFgB,KAERC,EAFQ,OAGaN,mBAAS,IAHtB,mBAGhBO,EAHgB,KAGJC,EAHI,OAIaR,mBAAS,IAJtB,mBAIhBS,EAJgB,KAIJC,EAJI,OAKGV,mBAAS,IALZ,mBAKhBW,EALgB,KAKTC,EALS,OAMOZ,mBAAS,IANhB,mBAMhBa,EANgB,KAMPC,EANO,OAOSd,mBAAS,OAPlB,mBAOhBe,EAPgB,KAONC,EAPM,OAQGhB,mBAAS,IARZ,mBAQhBiB,EARgB,KAQTC,EARS,OASKlB,mBAAS,IATd,mBAShBmB,EATgB,KASRC,GATQ,QAUGpB,mBAAS,GAVZ,qBAUhBqB,GAVgB,MAUTC,GAVS,SAWCtB,mBAAS,IAXV,qBAWhBuB,GAXgB,MAWVC,GAXU,SAYWxB,mBAAS,GAZpB,qBAYhByB,GAZgB,MAYLC,GAZK,SAaW1B,mBAAS,CACzC2B,MAAM,EACNC,KAAM,UACNC,KAAM,GACNC,UAAW,GACXC,UAAW,KAlBU,qBAahBC,GAbgB,MAaLC,GAbK,SAqBmBjC,oBAAS,GArB5B,qBAqBhBkC,GArBgB,MAqBDC,GArBC,SAsBmBnC,oBAAS,GAtB5B,qBAsBhBoC,GAtBgB,MAsBDC,GAtBC,SAuBiBrC,oBAAS,GAvB1B,qBAuBhBsC,GAvBgB,MAuBFC,GAvBE,MAwBjBC,GAAQC,cAGRC,GAAkBC,SAAShE,EAAciE,OAAOC,SAASjE,KAAM,UAAY,GAC3EkE,GAAkBH,SAAShE,EAAciE,OAAOC,SAASjE,KAAM,UAAY,GAoMjF,SAASmE,KACP,IAAK1C,EAAO2C,OACV,IACEC,SAAOC,IAAIC,cAAcC,eAAe,CACtCC,WAAYjE,EACZkE,UAAW,iBACXC,KAAM,KAEPC,MAAK,SAACC,GACLpB,IAAiB,GAKjB,IAHA,IAAMqB,EAAe,GACfC,EAAY,IAAI/D,EAAa6D,GAC7BG,EAAaD,EAAUE,cACpBC,EAAI,EAAGA,EAAIF,EAAYE,IAAK,CACnC,IAAMC,EAAQ,GACRC,EAAaL,EAAUE,cAC7BE,EAAMlF,KAAOiB,EAAW6D,EAAUM,KAAKD,IACvCD,EAAMG,QAAUP,EAAUM,KAAK,IAC/BF,EAAMI,GAAKR,EAAUS,YACrBL,EAAMM,SAAWV,EAAUW,cAC3BP,EAAMhG,GAAK4F,EAAUW,cAErBZ,EAAaa,KAAKR,GAIpB,IADA,IAAMS,EAAW,GACRV,EAAI,EAAGA,EAAIJ,EAAaV,OAAQc,IACvCU,EAASd,EAAaI,GAAGjF,MAAQ6E,EAAaI,GAGhD,IAAMW,EAAiBlG,OAAOmG,OAAOF,GAAU5G,KAAI,SAAC+G,GAClD,MAAO,CACL5G,GAAI4G,EAAE5G,GACNsG,SAAUM,EAAEN,SACZxF,KAAM8F,EAAE9F,KACRG,MAAO2F,EAAE5G,GACT6G,MAAOD,EAAE9F,SAIbyB,EAAUmE,GAEV,IAAII,EAAYJ,EAAeK,QAAO,SAACH,GAAD,OAAOjC,KAAoBiC,EAAE5G,MAAI,GACvEyC,EAAcqE,GAAaJ,EAAe,IAC1CI,EAAYJ,EAAeK,QAAO,SAACH,GAAD,OAAO7B,KAAoB6B,EAAE5G,MAAI,GACnE2C,EAAcmE,GAAaJ,EAAe,OAE3CM,OAAM,SAAC5G,GACNkB,EAAYlB,GAAG,SAAC6G,GACI,2BAAdA,EACFzC,IAAgB,GAEhB0C,QAAQC,IAAI,iBAAkB/G,SAIpC,MAAOA,GACP8G,QAAQC,IAAI/G,IA1RK,SA+RRgH,KA/RQ,8EA+RvB,8BAAAC,EAAA,+EAEUnC,SAAOC,IAAImC,SAASC,cAF9B,uBAG0BrC,SAAOC,IAAIqC,QAAQC,aAH7C,YAGUD,EAHV,SAImBA,EAAQ3D,OAASzC,EAJpC,uBAKMqD,GAAMiD,MAAN,gCAAqCtG,EAArC,SALN,2CAQiC8D,SAAOC,IAAIwC,MAAMC,aARlD,QAQUC,EARV,OASIxF,EAAWwF,GACX3F,aAAa4F,QAAQ,UAAWD,GAVpC,kDAYc,gBAAN,MACFpD,GAAMiD,MAAM,yCAblB,2DA/RuB,oEAyTvB,8BAAAL,EAAA,yDACOjF,EADP,uBAEIqC,GAAMb,KAAK,+BAFf,8BAKMpB,EAAWxC,GALjB,oBAMQwC,EAAWxC,KAAO0C,EAAW1C,GANrC,uBAOMyE,GAAMiD,MAAM,iCAPlB,+BAUQxE,GAAS,GAVjB,wBAWMuB,GAAMiD,MAAM,kCAXlB,gCAcQtE,GAAU,GAdlB,wBAeMqB,GAAMiD,MAAM,mCAflB,4CAmBYlC,EAAO,CACX,CACE3B,KAAM,UACN5C,MAAOmB,GAET,CACEyB,KAAM,OACN5C,MAAOuB,EAAWxC,IAEpB,CACE6D,KAAM,OACN5C,MAAOyB,EAAW1C,IAEpB,CACE6D,KAAM,OACN5C,MAAO,IAAI8G,IAAU7E,GAAO8E,MAAMpG,GAAeqG,aAAaF,IAAUG,YAAYC,YAEtF,CACEtE,KAAM,OACN5C,MAAO,IAAI8G,IAAU3E,GAAQ4E,MAAM,IAAID,IAAJ,SAAc,GAAMvF,EAAW8D,YAAW2B,aAAaF,IAAUG,YAAYC,aAtC1H,UAyC+BjD,SAAOC,IAAIC,cAAcgD,WAAW,CAC3D9C,WAAYjE,EACZkE,UAAW,OACXC,OACA6C,SAAU,KACVC,SAAU,IACVC,iBAAiB,IA/CzB,SAyCYC,EAzCZ,QAkDqBC,aACbvE,GAAa,CACXN,MAAM,EACNC,KAAM,UACNC,KAAM,yBACNC,UAAW,mBACXC,UAAU,uCAAD,OAAyCwE,EAAWC,eAxDvE,mDA4DMvE,GAAa,CACXN,MAAM,EACNC,KAAM,QACNC,KAAM,qBACNC,UAAU,GAAD,aACTC,UAAW,KAjEnB,4DAzTuB,+BAgYR0E,GAhYQ,iFAgYvB,WAAwBC,GAAxB,SAAAtB,EAAA,0DACMjF,IAAWuG,EADjB,yCAGYzD,SAAOC,IAAIC,cAAcgD,WAAW,CACxC9C,WAAYjE,EACZkE,UAAW,SACXC,KAAM,CACJ,CACE3B,KAAM,UACN5C,MAAOmB,GAET,CACEyB,KAAM,OACN5C,MAAO0H,IAGXN,SAAU,KACVC,SAAU,IACVC,iBAAiB,IAlBzB,sDAqBMrB,QAAQC,IAAI,WAAZ,MArBN,yDAhYuB,sBAuavB,SAASyB,GAAS/E,GAChB,GAAIrB,EAAWxC,GAAI,CACjB,IAAM6I,EAAyB,OAAb7F,EAAoBF,EAAUF,EAChD,MAAa,SAATiB,EACKgF,EAAS9B,QAAO,SAAC+B,GAAD,OAAOA,EAAEC,iBAAmBvG,EAAWxC,IAAM8I,EAAEE,iBAAmBtG,EAAW1C,MAAIH,KAAI,SAACiJ,GAC3G,OACE,sBAAqBG,UAAU,uBAA/B,UACE,qBAAKA,UAAU,6BAAf,SAA6CH,EAAE5F,MAAQtB,IACvD,qBAAKqH,UAAU,mBAAf,SAAmC,IAAIlB,IAAUe,EAAE1F,QAAQ8F,IAAIC,KAAKC,IAAI,GAAI5G,EAAW8D,WAAW6B,aAEnF,OAAbnF,GAAqB,qBAAKiG,UAAU,aAAaI,QAAS,kBAAMX,GAASI,EAAEQ,UAAtD,sBAJfR,EAAEQ,YAQTT,EAAS9B,QAAO,SAAC+B,GAAD,OAAOA,EAAEC,iBAAmBrG,EAAW1C,IAAM8I,EAAEE,iBAAmBxG,EAAWxC,MAAIH,KAAI,SAACiJ,GAC3G,OACE,sBAAqBG,UAAU,eAA/B,UACE,qBAAKA,UAAU,4BAAf,SAA4CrH,EAAgBkH,EAAE5F,QAC9D,qBAAK+F,UAAU,mBAAf,SAAmC,IAAIlB,IAAUe,EAAE1F,QAAQ4E,MAAMc,EAAE5F,OAAOgG,IAAItH,GAAesH,IAAIC,KAAKC,IAAI,GAAI1G,EAAW4D,WAAW6B,aAErH,OAAbnF,GAAqB,qBAAKiG,UAAU,aAAaI,QAAS,kBAAMX,GAASI,EAAEQ,UAAtD,sBAJfR,EAAEQ,YASpB,OAAO,KAqBT,SAASC,GAAuB1F,GAC9B,GAAIvB,EAAO2C,OAAQ,CACjB,IAgBMuE,EAA0B,UAAT3F,EAAmB4F,GAAqBC,GAC3DC,EAAe,GASnB,OALEA,EAFW,UAAT9F,EACUvB,EAAOyE,QAAO,SAACH,GAAD,OAAOjC,KAAoBiC,EAAE5G,MAAI,IAC/BsC,EAAO,GAEvBA,EAAOyE,QAAO,SAACH,GAAD,OAAO7B,KAAoB6B,EAAE5G,MAAI,IAC/BsC,EAAO,GAGnC,cAAC,IAAD,CACE2G,UAAU,eACVW,aAAcD,EACdE,QAASvH,EACTwH,cAAc,EACdC,WAAY,CAAEC,OAhCG,SAACC,GAAD,OACnB,cAAC,IAAWD,OAAZ,2BAAuBC,GAAvB,aACE,sBAAKhB,UAAU,iBAAf,UACE,qBAAKA,UAAS,sBAAiBgB,EAAMpD,MAAvB,kBACd,qBAAKoC,UAAU,eAAf,SAA+BgB,EAAMpD,eA4BHqD,YAxBpB,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAaF,EAAhB,mCAClB,cAAC,IAAWC,YAAZ,2BAA4BD,GAA5B,aACE,sBAAKhB,UAAU,iBAAf,UACE,qBAAKA,UAAS,sBAAiBkB,EAAjB,kBACd,qBAAKlB,UAAU,eAAf,SAA+BkB,YAqBjCC,SAAU,SAAChK,GAAD,OAAOoJ,EAAcpJ,IAC/BiK,MAAO,SAAAA,GAAK,kCACPA,GADO,IAEVC,aAAc,EACdC,OAAO,2BACFF,EAAME,QADL,IAEJC,QAAS,kBAQrB,SAASf,GAAmBrJ,GACtBA,EAAEa,QAAUuB,EAAWxC,IACzByC,EAAcH,EAAOyE,QAAO,SAACH,GAAD,OAAOA,EAAE5G,KAAOI,EAAEa,SAAO,IAIzD,SAASyI,GAAmBtJ,GACtBA,EAAEa,QAAUyB,EAAW1C,IACzB2C,EAAcL,EAAOyE,QAAO,SAACH,GAAD,OAAOA,EAAE5G,KAAOI,EAAEa,SAAO,IA8CzD,SAASwJ,GAAoB7G,GAC3BQ,GAAiBR,GAkCnB,OAjkBA8G,qBAAU,WACR1F,KACA,IAAI2F,GAAYpG,IAAgBqG,aAAY,WACtCtI,EAAO2C,OACT4F,cAAcF,GAEd3F,OAED,KACH,OAAO,WACL2F,GAAYE,cAAcF,MAE3B,CAACrI,EAAQiC,KAEZmG,qBAAU,WACR,SAASI,IACP,GAAItI,EAAWxC,GAAI,CACjB,GAAIwC,EAAWxC,KAAO0C,EAAW1C,GAG/B,OAFA6C,EAAS,SACTc,GAAa,GAGf,IACEuB,SAAOC,IAAIC,cAAcC,eAAe,CACtCC,WAAYjE,EACZkE,UAAW,oBACXC,KAAM,CACJ,CACE3B,KAAM,OACN5C,MAAOuB,EAAWxC,IAEpB,CACE6D,KAAM,OACN5C,MAAOyB,EAAW1C,OAIvByF,MAAK,SAACsF,GAOL,IANA,IAAMC,EAAc,GACdpF,EAAY,IAAI/D,EAAakJ,GAC7BE,EAAgBrF,EAAUW,cAC1B2E,EAAmB1I,EAAWxC,GAAK0C,EAAW1C,GAAKwC,EAAWxC,GAAK0C,EAAW1C,GAC9EmL,EAAmB3I,EAAWxC,GAAK0C,EAAW1C,GAAK0C,EAAW1C,GAAKwC,EAAWxC,GAE3EoL,EAAI,EAAGA,GAAK,EAAGA,IAEtB,IADA,IAAMC,EAAYzF,EAAUE,cACnBC,EAAI,EAAGA,EAAIsF,EAAWtF,IAAK,CAClC,IAAMuF,EAAO,GACbA,EAAKhC,QAAU1D,EAAUW,cACzB+E,EAAKpI,MAAQ0C,EAAUW,cACvB+E,EAAKlI,OAAS,IAAI2E,IAAUnC,EAAUW,eAAe4B,WACrDmD,EAAKvC,eAAwB,IAANqC,EAAUF,EAAmBC,EACpDG,EAAKtC,eAAwB,IAANoC,EAAUD,EAAmBD,EAEpDF,EAAYxE,KAAK8E,GAIrB3H,GAAasH,EAAiBzI,EAAWxC,GAAK0C,EAAW1C,GAAKiL,EAAgBrJ,EAAgBA,EAAgBqJ,EAAiB,GAC/HpI,EAASmI,MAEVhE,OAAM,SAAC5G,GACNkB,EAAYlB,GAAG,SAAC6G,GACI,2BAAdA,EACFzC,IAAgB,GAEhB0C,QAAQC,IAAI,oBAAqB/G,SAIvC,MAAOA,GACP8G,QAAQC,IAAI/G,KAIlB0K,IACA,IAAMH,GAAYpG,IAAgBqG,YAAYE,EAAgB,KAC9D,OAAO,WACLH,GAAYE,cAAcF,MAE3B,CAACnI,EAAYE,EAAYN,EAASmC,KAErCmG,qBAAU,WACR,SAASa,IACP,GAAInJ,EACF,IACE8C,SAAOC,IAAIC,cAAcC,eAAe,CACtCC,WAAYjE,EACZkE,UAAW,iBACXC,KAAM,CACJ,CACE3B,KAAM,UACN5C,MAAOmB,MAIZqD,MAAK,SAACsF,GAIL,IAHA,IAAMC,EAAc,GACdpF,EAAY,IAAI/D,EAAakJ,GAC7BM,EAAYzF,EAAUE,cACnBC,EAAI,EAAGA,EAAIsF,EAAWtF,IAAK,CAClC,IAAMuF,EAAO,GACbA,EAAKnF,QAAUjB,SAAOC,IAAIrD,MAAM0J,aAAa5F,EAAUM,KAAK,KAC5DoF,EAAKvC,eAAiBnD,EAAUW,cAChC+E,EAAKtC,eAAiBpD,EAAUW,cAChC+E,EAAKpI,MAAQ0C,EAAUW,cACvB+E,EAAKlI,OAASwC,EAAUW,cACxB+E,EAAKhC,QAAU1D,EAAUW,cAEzByE,EAAYxE,KAAK8E,GAGnBvI,EAAWiI,MAEZhE,OAAM,SAAC5G,GACNkB,EAAYlB,GAAG,SAAC6G,GACI,2BAAdA,EACFzC,IAAgB,GAEhB0C,QAAQC,IAAI,iBAAkB/G,SAIpC,MAAOA,GACP8G,QAAQC,IAAI/G,IAKlBmL,IACA,IAAMZ,GAAYpG,IAAgBqG,YAAYW,EAAc,KAC5D,OAAO,WACLZ,GAAYE,cAAcF,MAE3B,CAACnI,EAAYE,EAAYN,EAASmC,KAErCmG,qBAAU,WAAO,SACAe,IADD,2EACd,sCAAApE,EAAA,0DACM/E,EAAO2C,OADb,0CAG4BC,SAAOC,IAAIC,cAAcC,eAAe,CAC5DC,WAAYjE,EACZkE,UAAW,OACXC,KAAM,KANd,OAcM,IAXMkG,EAHZ,OASYC,EAAY,IACZ/F,EAAY,IAAI/D,EAAa6J,IACzBnF,cACJV,EAAaD,EAAUE,cAZnC,WAceC,GACP,IAAMC,EAAQ,GACdA,EAAMhG,GAAK4F,EAAUW,cACrB,IAAMO,EAAYxE,EAAOyE,QAAO,SAACH,GAAD,OAAOA,EAAE5G,KAAOgG,EAAMhG,MAAI,GAC1DgG,EAAM4F,QAAU,IAAI7D,IAAUnC,EAAUW,eAAe2C,IAAI,IAAInB,IAAJ,SAAc,GAAMjB,EAAUR,YAAW6B,WACpGnC,EAAMlF,KAAOgG,EAAUhG,KAEvB6K,EAAUnF,KAAKR,IAPRD,EAAI,EAAGA,EAAIF,EAAYE,IAAM,IAUtCtC,GAAQkI,GAxBd,kDA0BMrK,EAAY,EAAD,IAAI,SAAC2F,GACI,2BAAdA,EACFzC,IAAgB,GAEhB0C,QAAQC,IAAI,WAAZ,SA9BV,2DADc,sBAsCdsE,IACA,IAAMd,EAAWC,aAAY,WACvBrG,GACFsG,cAAcF,GAEdc,MAED,KACH,OAAO,kBAAMZ,cAAcF,MAC1B,CAACrI,EAAQiC,KAEZmG,qBAAU,WACRnH,IAAUL,GAAS,IAAME,GAAU,MAClC,CAACF,EAAOE,IAEXsH,qBAAU,WACRzH,EAAY,SACX,CAACb,IAmYF,sBAAK6G,UAAU,MAAf,UAEiB,OAAZ7G,GAAqB,qBAAK6G,UAAU,yBAAf,SACpB,sBAAKA,UAAU,kBAAf,UACE,mBAAGA,UAAU,gBAAb,4BACA,qBAAKA,UAAU,cAAcI,QAAS,kBAAMjC,MAA5C,+BA9DJnD,GAAUL,KAEV,qBAAKqF,UAAU,qBAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,YAAYI,QAAS,WAX5CnF,GAAa,2BACRD,IADO,IAEVL,MAAM,QAUA,qBAAKqF,UAAS,qBAAgBhF,GAAUJ,KAA1B,iBACd,qBAAKoF,UAAS,qBAAgBhF,GAAUJ,KAA1B,eAAd,SAA4DI,GAAUH,OACtE,qBAAKmF,UAAU,mBAAf,SAEEhF,GAAUD,UACR,mBAAGiF,UAAU,mBAAmB4C,OAAO,SAASC,IAAI,aAAaC,KAAM9H,GAAUD,UAAjF,SAA6FC,GAAUF,YACrGE,GAAUF,iBAOjB,KAQHI,GAEA,qBAAK8E,UAAU,qBAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,YAAYI,QAAS,kBAAMoB,IAAoB,MAC9D,mBAAGxB,UAAU,aAAb,0FACA,oBAAGA,UAAU,aAAb,gDAA6D,mBAAG4C,OAAO,SAASC,IAAI,aAAaC,KAAK,4CAAzC,qBAC7D,mBAAG9C,UAAU,aAAb,0IACA,oBAAGA,UAAU,aAAb,0EAAuF,mBAAG4C,OAAO,SAASC,IAAI,aAAaC,KAAK,6CAAzC,0BAKxF,KAIH1H,GAEA,qBAAK4E,UAAU,qBAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,kCACf,qBAAKA,UAAU,aAAf,iCAKD,KAgBL,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,qBAAKA,UAAU,aAAaI,QAAS,kBAAMoB,IAAoB,QAEjE,sBAAKxB,UAAU,kBAAf,UACI7G,GAAW,sBAAM6G,UAAU,kBAAhB,SAAmC7G,IAC9CA,GAAW,sBAAM6G,UAAU,cAAcI,QAAS,kBAxN5DhH,EAAW,SACXH,aAAa4F,QAAQ,UAAW,KAuNX,sBACC,KAAZ1F,GAAkB,sBAAM6G,UAAU,cAAcI,QAAS,kBAAMjC,MAA7C,oCAI1B,sBAAK6B,UAAU,kBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,mBAAf,yBACA,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,aAAf,oBACA,sBAAKA,UAAU,gBAAf,UACGM,GAAuB,SACxB,uBAAON,UAAU,qBAAqB+C,YAAY,SAASnI,KAAK,SAASuG,SAAU,SAAC6B,GAAD,OAAW5I,GAAU4I,EAAMJ,OAAO5K,gBAGzH,sBAAKgI,UAAU,YAAf,UACE,sBAAKA,UAAU,aAAf,kBACE,sBAAMA,UAAU,OAAhB,SAjMZ,WACE,GAAIzG,EAAWxC,GACb,MAAM,KAAN,OAAYwC,EAAW1B,KAAvB,cAAiCoC,GAAS,IAA1C,YAAiDR,EAAW5B,MA+L5BoL,QAE1B,qBAAKjD,UAAU,gBAAf,SACE,uBAAOA,UAAU,QAAQ+C,YAAY,QAAQnI,KAAK,SAASuG,SAAU,SAAC6B,GAAD,OAAW9I,EAAS8I,EAAMJ,OAAO5K,eAG1G,sBAAKgI,UAAU,YAAf,UACE,qBAAKA,UAAU,aAAf,sBACA,sBAAKA,UAAU,gBAAf,UACGM,GAAuB,SACxB,uBAAON,UAAU,qBAAqBkD,UAAQ,EAACtI,KAAK,SAAS5C,MAAOqC,WAGxE,qBAAK2F,UAAU,WAAWI,QAAS,kBAjpBpB,2CAipB0B+C,IAAzC,qBAEF,sBAAKnD,UAAU,cAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,cAAf,wBACA,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAwB,QAAbjG,EAAqB,uBAAyB,cAAeqG,QAAS,kBAAMpG,EAAY,QAAxG,iBACA,qBAAKgG,UAAwB,OAAbjG,EAAoB,uBAAyB,cAAeqG,QAAS,WAxP3FjH,EACFa,EAAY,MAEZwB,GAAMb,KAAK,gCAqPH,sBAGJ,sBAAKqF,UAAU,aAAf,UACE,qBAAKA,UAAU,sBACf,sBAAKA,UAAU,cAAf,UACE,sBAAKA,UAAU,YAAf,oBA/MZ,WACE,GAAIzG,EAAWxC,IAAM0C,EAAW1C,GAC9B,MAAM,GAAN,OAAUwC,EAAW1B,KAArB,YAA6B4B,EAAW5B,MA6MGuL,GAAnC,OACA,sBAAKpD,UAAU,YAAf,qBAtNZ,WACE,GAAIzG,EAAWxC,GACb,OAAOwC,EAAW1B,KAoN0BwL,GAApC,OAEe,OAAbtJ,GAAqB,qBAAKiG,UAAU,2BAG1C,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,gBAAf,kBACA,qBAAKA,UAAU,oBAAf,SACCL,GAAS,aAIG,QAAb5F,GAAsB,sBAAKiG,UAAU,qBAAf,UACpB,qBAAKA,UAAU,mBAAf,wBACA,qBAAKA,UAAU,aAAf,SAA6BvF,KAC7B,qBAAKuF,UAAU,8BAGnB,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,gBAAf,iBACA,qBAAKA,UAAU,YAAf,SACCL,GAAS,kBAKhB,sBAAKK,UAAU,aAAf,UACE,qBAAKA,UAAU,mBAAf,2BAxKN,WACE,GAAIzF,GAAKyB,OACP,OAAOzB,GAAK3D,KAAI,SAAC0M,GACf,OACE,sBAAKtD,UAAU,YAAf,UACE,qBAAKA,UAAU,aAAf,SAA6BsD,EAAGzL,OAChC,qBAAKmI,UAAU,gBAAf,SAAgCsD,EAAGX,YAFLW,EAAGzL,SAqKpC0L,U,SC/rBMC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlH,MAAK,YAAkD,IAA/CmH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCEdO,SAAgBC,eAAe,IAE/B,IAAMrD,EAAU,CACdsD,QAAS,IACTC,SAAUC,IAAUC,WAGtBC,IAASC,OACP,cAAC,IAAD,yBAAUC,SAAUC,KAAmB7D,GAAvC,aACE,cAAC,EAAD,OAEF8D,SAASC,eAAe,SAM1BnB,M","file":"static/js/main.48f0b424.chunk.js","sourcesContent":["var map = {\n\t\"./aes\": 241,\n\t\"./aes.js\": 241,\n\t\"./big\": 242,\n\t\"./big.js\": 242,\n\t\"./ctx\": 146,\n\t\"./ctx.js\": 146,\n\t\"./ecdh\": 243,\n\t\"./ecdh.js\": 243,\n\t\"./ecp\": 244,\n\t\"./ecp.js\": 244,\n\t\"./ecp2\": 245,\n\t\"./ecp2.js\": 245,\n\t\"./ff\": 246,\n\t\"./ff.js\": 246,\n\t\"./fp\": 247,\n\t\"./fp.js\": 247,\n\t\"./fp12\": 248,\n\t\"./fp12.js\": 248,\n\t\"./fp2\": 249,\n\t\"./fp2.js\": 249,\n\t\"./fp4\": 250,\n\t\"./fp4.js\": 250,\n\t\"./gcm\": 251,\n\t\"./gcm.js\": 251,\n\t\"./hash256\": 252,\n\t\"./hash256.js\": 252,\n\t\"./hash384\": 253,\n\t\"./hash384.js\": 253,\n\t\"./hash512\": 254,\n\t\"./hash512.js\": 254,\n\t\"./mpin\": 255,\n\t\"./mpin.js\": 255,\n\t\"./newhope\": 256,\n\t\"./newhope.js\": 256,\n\t\"./nhs\": 257,\n\t\"./nhs.js\": 257,\n\t\"./pair\": 258,\n\t\"./pair.js\": 258,\n\t\"./rand\": 259,\n\t\"./rand.js\": 259,\n\t\"./rom_curve\": 260,\n\t\"./rom_curve.js\": 260,\n\t\"./rom_field\": 261,\n\t\"./rom_field.js\": 261,\n\t\"./rsa\": 262,\n\t\"./rsa.js\": 262,\n\t\"./sha3\": 263,\n\t\"./sha3.js\": 263,\n\t\"./uint64\": 264,\n\t\"./uint64.js\": 264\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 547;","export function getQueryString(search, name) {\n  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`, 'i');\n  const value = search.substr(1).match(reg);\n\n  if (value != null) { return (value[2]); }\n\n  return null;\n}\n\nexport function getHashString(hash, name) {\n  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`, 'i');\n  const value = hash.substr(1).match(reg);\n\n  if (value != null) { return (value[2]); }\n\n  return null;\n}","export const networkType = 'TEST'\nexport const contractAddress = '7109a491e26679e72d82c0084806afa34aaeb309'","export const handleError = (e, callback = () => {}) => {\n  const json = JSON.parse(e)\n  if (json.Result === 'wasm contract does not exist') {\n    callback('CONTRACT_ADDRESS_ERROR')\n  }\n}","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport Select, { components } from 'react-select'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { getHashString } from './utils/common'\nimport { networkType, contractAddress } from './config'\nimport { handleError } from './utils/errorHandle'\nimport './App.css'\n\n// const { Address } = Crypto\nconst priceDecimals = 10 ** 6\nconst { StringReader, hexstr2str } = utils\n// const restClient = new RestClient(CONST.TEST_ONT_URL.RPC_URL)\n\nexport const App = () => {\n  const [account, setAccount] = useState(localStorage.getItem('account'))\n  const [tokens, setTokens] = useState([])\n  const [assetToken, setAssetToken] = useState({})\n  const [priceToken, setPriceToken] = useState({})\n  const [makes, setMakes] = useState([])\n  const [myMakes, setMyMakes] = useState([])\n  const [makeView, setMakeView] = useState('all')\n  const [price, setPrice] = useState('')\n  const [amount, setAmount] = useState('')\n  const [total, setTotal] = useState(0)\n  const [pool, setPool] = useState([])\n  const [lastPrice, setLastPrice] = useState(0)\n  const [infoModal, setInfoModal] = useState({\n    show: false,\n    type: 'success',\n    text: '',\n    extraText: '',\n    extraLink: ''\n  })\n  // const [marketInfo, setMarketInfo] = useState([])\n  const [showSiteIntro, setShowSiteIntro] = useState(false)\n  const [loadingTokens, setLoadingTokens] = useState(true)\n  const [stopInterval, setStopInterval] = useState(false)\n  const Alert = useAlert()\n  // const [balance, setBalance] = useState(0)\n\n  const urlAssetTokenId = parseInt(getHashString(window.location.hash, 'asset') || 1)\n  const urlPriceTokenId = parseInt(getHashString(window.location.hash, 'price') || 2)\n\n  useEffect(() => {\n    getAllTokens()\n    let interval = !stopInterval && setInterval(() => {\n      if (tokens.length) {\n        clearInterval(interval)\n      } else {\n        getAllTokens()\n      }\n    }, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokens, stopInterval])\n\n  useEffect(() => {\n    function getMakesOfPair() {\n      if (assetToken.id) {\n        if (assetToken.id === priceToken.id) {\n          setMakes([])\n          setLastPrice(0)\n          return\n        }\n        try {\n          client.api.smartContract.invokeWasmRead({\n            scriptHash: contractAddress,\n            operation: 'get_makes_of_pair',\n            args: [\n              {\n                type: 'Long',\n                value: assetToken.id\n              },\n              {\n                type: 'Long',\n                value: priceToken.id\n              }\n            ]\n          })\n          .then((makeStr) => {\n            const parsedMakes = []\n            const strReader = new StringReader(makeStr)\n            const pairLastPrice = strReader.readUint128()\n            const tempAssetTokenId = assetToken.id < priceToken.id ? assetToken.id : priceToken.id\n            const tempPriceTokenId = assetToken.id < priceToken.id ? priceToken.id : assetToken.id\n    \n            for (let j = 0; j <= 1; j++) {\n              const makeCount = strReader.readNextLen()\n              for (let i = 0; i < makeCount; i++) {\n                const make = {}\n                make.make_id = strReader.readUint128()\n                make.price = strReader.readUint128()\n                make.amount = new BigNumber(strReader.readUint128()).toString()\n                make.asset_token_id = (j === 0 ? tempAssetTokenId : tempPriceTokenId)\n                make.price_token_id = (j === 0 ? tempPriceTokenId : tempAssetTokenId)\n        \n                parsedMakes.push(make)\n              }\n            }\n    \n            setLastPrice(pairLastPrice ? (assetToken.id < priceToken.id ? pairLastPrice / priceDecimals : priceDecimals / pairLastPrice) : 0)\n            setMakes(parsedMakes)\n          })\n          .catch((e) => {\n            handleError(e, (errorCode) => {\n              if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n                setStopInterval(true)\n              } else {\n                console.log('get makes of pair', e)\n              }\n            })\n          })\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n    getMakesOfPair()\n    const interval = !stopInterval && setInterval(getMakesOfPair, 2000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [assetToken, priceToken, account, stopInterval])\n\n  useEffect(() => {\n    function getUserMakes() {\n      if (account) {\n        try {\n          client.api.smartContract.invokeWasmRead({\n            scriptHash: contractAddress,\n            operation: 'get_user_makes',\n            args: [\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n          .then((makeStr) => {\n            const parsedMakes = []\n            const strReader = new StringReader(makeStr)\n            const makeCount = strReader.readNextLen()\n            for (let i = 0; i < makeCount; i++) {\n              const make = {}\n              make.address = client.api.utils.hexToAddress(strReader.read(20))\n              make.asset_token_id = strReader.readUint128()\n              make.price_token_id = strReader.readUint128()\n              make.price = strReader.readUint128()\n              make.amount = strReader.readUint128()\n              make.make_id = strReader.readUint128()\n    \n              parsedMakes.push(make)\n            }\n    \n            setMyMakes(parsedMakes)\n          })\n          .catch((e) => {\n            handleError(e, (errorCode) => {\n              if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n                setStopInterval(true)\n              } else {\n                console.log('get user makes', e)\n              }\n            })\n          })\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    getUserMakes()\n    const interval = !stopInterval && setInterval(getUserMakes, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [assetToken, priceToken, account, stopInterval])\n\n  useEffect(() => {\n    async function getStat() {\n      if (tokens.length) {\n        try {\n          const statStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: contractAddress,\n            operation: 'stat',\n            args: []\n          })\n          \n          const tokenPool = []\n          const strReader = new StringReader(statStr)\n          strReader.readUint128()\n          const tokenCount = strReader.readNextLen()\n  \n          for (let i = 0; i < tokenCount; i++) {\n            const token = {}\n            token.id = strReader.readUint128()\n            const tempToken = tokens.filter((t) => t.id === token.id)[0]\n            token.balance = new BigNumber(strReader.readUint128()).div(new BigNumber(10 ** tempToken.decimals)).toString()\n            token.name = tempToken.name\n  \n            tokenPool.push(token)\n          }\n  \n          setPool(tokenPool)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get stat', e)\n            }\n          })\n        }\n      }\n    }\n\n    getStat()\n    const interval = setInterval(() => {\n      if (stopInterval) {\n        clearInterval(interval)\n      } else {\n        getStat()\n      }\n    }, 5000)\n    return () => clearInterval(interval)\n  }, [tokens, stopInterval])\n\n  useEffect(() => {\n    setTotal((price || 0) * (amount || 0))\n  }, [price, amount])\n\n  useEffect(() => {\n    setMakeView('all')\n  }, [account])\n\n\n  function getAllTokens() {\n    if (!tokens.length) {\n      try {\n        client.api.smartContract.invokeWasmRead({\n          scriptHash: contractAddress,\n          operation: 'get_all_tokens',\n          args: []\n        })\n        .then((tokenStr) => {\n          setLoadingTokens(false)\n        \n          const parsedTokens = []\n          const strReader = new StringReader(tokenStr)\n          const tokenCount = strReader.readNextLen()\n          for (let i = 0; i < tokenCount; i++) {\n            const token = {}\n            const nameLength = strReader.readNextLen()\n            token.name = hexstr2str(strReader.read(nameLength))\n            token.address = strReader.read(20)\n            token.ty = strReader.readUint8()\n            token.decimals = strReader.readUint128()\n            token.id = strReader.readUint128()\n\n            parsedTokens.push(token)\n          }\n\n          const tokenMap = {}\n          for (let i = 0; i < parsedTokens.length; i++) {\n            tokenMap[parsedTokens[i].name] = parsedTokens[i]\n          }\n\n          const filteredTokens = Object.values(tokenMap).map((t) => {\n            return {\n              id: t.id,\n              decimals: t.decimals,\n              name: t.name,\n              value: t.id,\n              label: t.name\n            }\n          })\n\n          setTokens(filteredTokens)\n\n          let tempToken = filteredTokens.filter((t) => urlAssetTokenId === t.id)[0]\n          setAssetToken(tempToken || filteredTokens[0])\n          tempToken = filteredTokens.filter((t) => urlPriceTokenId === t.id)[0]\n          setPriceToken(tempToken || filteredTokens[1])\n        })\n        .catch((e) => {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get all tokens', e)\n            }\n          })\n        })\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  async function onConnectWallet() {\n    try {\n      await client.api.provider.getProvider()\n      const network = await client.api.network.getNetwork()\n      if (network && network.type !== networkType) {\n        Alert.error(`Please connect to the ${networkType}-Net`)\n        return\n      }\n      const accountAddress = await client.api.asset.getAccount()\n      setAccount(accountAddress)\n      localStorage.setItem('account', accountAddress)\n    } catch (e) {\n      if (e === 'NO_PROVIDER') {\n        Alert.error('Please install wallet extension first')\n      }\n    }\n  }\n\n  // async function getBalance() {\n  //   if (account) {\n  //     // const accountBalance = await client.api.network.getBalance({ address: account })\n  //     const accountBalance = await restClient.getBalance(new Address(account))\n  //     console.log(accountBalance)\n  //   }\n  // }\n\n  async function onMake() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    if (assetToken.id) {\n      if (assetToken.id === priceToken.id) {\n        Alert.error('Please select different token')\n        return\n      }\n      if (price <= 0) {\n        Alert.error('Price should be greater than 0')\n        return\n      }\n      if (amount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: assetToken.id\n          },\n          {\n            type: 'Long',\n            value: priceToken.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(price).times(priceDecimals).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(amount).times(new BigNumber(10 ** assetToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const makeResult = await client.api.smartContract.invokeWasm({\n          scriptHash: contractAddress,\n          operation: 'make',\n          args,\n          gasPrice: 2500,\n          gasLimit: 3000000,\n          requireIdentity: false\n        })\n\n        if (makeResult.transaction) {\n          setInfoModal({\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `https://explorer.ont.io/transaction/${makeResult.transaction}`\n          })\n        }\n      } catch (e) {\n        setInfoModal({\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          extraText: `${e}`,\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  async function onUnmake(makeId) {\n    if (account && makeId) {\n      try {\n        await client.api.smartContract.invokeWasm({\n          scriptHash: contractAddress,\n          operation: 'unmake',\n          args: [\n            {\n              type: 'Address',\n              value: account\n            },\n            {\n              type: 'Long',\n              value: makeId\n            }\n          ],\n          gasPrice: 2500,\n          gasLimit: 3000000,\n          requireIdentity: false\n        })\n      } catch (e) {\n        console.log('onunmake', e)\n      }\n    }\n  }\n\n  function onSignOut() {\n    setAccount('')\n    localStorage.setItem('account', '')\n  }\n\n  function onChangeToUserMakeView() {\n    if (account) {\n      setMakeView('my')\n    } else {\n      Alert.show('Please Connect Wallet First')\n    }\n  }\n\n  function getMakes(type) {\n    if (assetToken.id) {\n      const curMakes = (makeView === 'my' ? myMakes : makes)\n      if (type === 'sell') {\n        return curMakes.filter((m) => m.asset_token_id === assetToken.id && m.price_token_id === priceToken.id).map((m) => {\n          return (\n            <div key={m.make_id} className=\"my-make-item reverse\">\n              <div className=\"make-item-detail make-sell\">{m.price / priceDecimals}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).div(Math.pow(10, assetToken.decimals)).toString()}</div>\n              {/* <div className=\"make-item-detail\">{new BigNumber(m.amount).times(m.price).div(Math.pow(10, assetToken.decimals)).div(priceDecimals).toString()}</div> */}\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>Cancel</div> }\n            </div>)\n        })\n      } else {\n        return curMakes.filter((m) => m.asset_token_id === priceToken.id && m.price_token_id === assetToken.id).map((m) => {\n          return (\n            <div key={m.make_id} className=\"my-make-item\">\n              <div className=\"make-item-detail make-buy\">{priceDecimals / m.price}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).times(m.price).div(priceDecimals).div(Math.pow(10, priceToken.decimals)).toString()}</div>\n              {/* <div className=\"make-item-detail\">{new BigNumber(m.amount).div(Math.pow(10, priceToken.decimals)).toString()}</div> */}\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>Cancel</div> }\n            </div>)\n        })\n      }\n    }\n    return null\n  }\n\n  function generatePriceHint() {\n    if (assetToken.id) {\n      return `1 ${assetToken.name} = ${price || '?'} ${priceToken.name}`\n    }\n  }\n\n  function getAmountHint() {\n    if (assetToken.id) {\n      return assetToken.name\n    }\n  }\n\n  function getPriceToken() {\n    if (assetToken.id && priceToken.id) {\n      return `${assetToken.name}/${priceToken.name}`\n    }\n  }\n\n  function generateTokenSelection(type) {\n    if (tokens.length) {\n      const CustomOption = (props) => (\n        <components.Option {...props}>\n          <div className=\"option-wrapper\">\n            <div className={`option-icon-${props.label} option-icon`}></div>\n            <div className=\"option-label\">{props.label}</div>\n          </div>\n        </components.Option>\n      )\n      const SingleValue = ({ children, ...props }) => (\n        <components.SingleValue {...props}>\n          <div className=\"option-wrapper\">\n            <div className={`option-icon-${children} option-icon`}></div>\n            <div className=\"option-label\">{children}</div>\n          </div>\n        </components.SingleValue>\n      )\n      const onChangeToken = (type === 'asset' ? onChangeAssetToken : onChangePriceToken)\n      let defaultToken = {}\n      let tempToken = {}\n      if (type === 'asset') {\n        tempToken = tokens.filter((t) => urlAssetTokenId === t.id)[0]\n        defaultToken = tempToken || tokens[0]\n      } else {\n        tempToken = tokens.filter((t) => urlPriceTokenId === t.id)[0]\n        defaultToken = tempToken || tokens[1]\n      }\n      return (\n        <Select\n          className=\"token-select\"\n          defaultValue={defaultToken}\n          options={tokens}\n          isSearchable={false}\n          components={{ Option: CustomOption, SingleValue }}\n          onChange={(e) => onChangeToken(e)}\n          theme={theme => ({\n            ...theme,\n            borderRadius: 0,\n            colors: {\n              ...theme.colors,\n              primary: '#2c2c2c',\n            },\n          })}\n        />\n      )\n    }\n  }\n\n  function onChangeAssetToken(e) {\n    if (e.value !== assetToken.id) {\n      setAssetToken(tokens.filter((t) => t.id === e.value)[0])\n    }\n  }\n\n  function onChangePriceToken(e) {\n    if (e.value !== priceToken.id) {\n      setPriceToken(tokens.filter((t) => t.id === e.value)[0])\n    }\n  }\n\n  function generateTokenPool() {\n    if (pool.length) {\n      return pool.map((tp) => {\n        return (\n          <div className=\"pool-item\" key={tp.name}>\n            <div className=\"token-name\">{tp.name}</div>\n            <div className=\"token-balance\">{tp.balance}</div>\n          </div>\n        )\n      })\n    }\n  }\n\n  function onCloseModal() {\n    setInfoModal({\n      ...infoModal,\n      show: false\n    })\n  }\n\n  function renderInfoModal() {\n    if (infoModal.show) {\n      return (\n        <div className=\"info-modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => onCloseModal()}></div>\n            <div className={`modal-icon-${infoModal.type} modal-icon`}></div>\n            <div className={`modal-text-${infoModal.type} modal-text`}>{infoModal.text}</div>\n            <div className=\"modal-extra-text\">\n            {\n              infoModal.extraLink ? (\n                <a className=\"transaction-link\" target=\"_blank\" rel=\"noreferrer\" href={infoModal.extraLink}>{infoModal.extraText}</a>\n              ) : infoModal.extraText\n            }\n            </div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  function toggleShowSiteIntro(show) {\n    setShowSiteIntro(show)\n  }\n\n  function renderSiteIntro() {\n    if (showSiteIntro) {\n      return (\n        <div className=\"info-modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => toggleShowSiteIntro(false)}></div>\n            <p className=\"intro-line\">uniq-ex is a pure github based DAO dex, all activities are logged on github.</p>\n            <p className=\"intro-line\">You can open issues for discussion <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/uniq-ex/uniq-ex/issues\">here</a></p>\n            <p className=\"intro-line\">uniq-ex's future business will not be limited to exchanges though, we may enter various DeFi markets like compound or hegic.</p>\n            <p className=\"intro-line\">We're open to crowdfunding, you can buy our governance token <a target=\"_blank\" rel=\"noreferrer\" href=\"https://uniq-ex.github.io/#asset=1&price=2\">here</a></p>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  function renderLoading() {\n    if (loadingTokens) {\n      return (\n        <div className=\"info-modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"modal-icon-loading modal-icon\"></div>\n            <div className=\"modal-text\">Loading Tokens</div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  return (\n    <div className=\"app\">\n      {\n        (account === null) && <div className=\"connect-wallet-overlay\">\n          <div className=\"connect-wrapper\">\n            <p className=\"connect-title\">Connect Wallet</p>\n            <div className=\"wallet-item\" onClick={() => onConnectWallet()}>Cyano Wallet</div>\n          </div>\n        </div>\n      }\n      {renderInfoModal()}\n      {renderSiteIntro()}\n      {renderLoading()}\n      <div className=\"header\">\n        <div className=\"content-wrapper\">\n          <div className=\"logo-wrapper\">\n            <div className=\"site-intro\" onClick={() => toggleShowSiteIntro(true)}></div>\n          </div>\n          <div className=\"profile-wrapper\">\n            { account && <span className=\"account-address\">{account}</span> }\n            { account && <span className=\"signout-btn\" onClick={() => onSignOut()}>Sign Out</span> }\n            { account === '' && <span className=\"connect-btn\" onClick={() => onConnectWallet()}>Connect Wallet</span>}\n          </div>\n        </div>\n      </div>\n      <div className=\"trade-container\">\n        <div className=\"make-wrapper\">\n          <div className=\"container-header\">Transaction</div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Amount</div>\n            <div className=\"input-wrapper\">\n              {generateTokenSelection('asset')}\n              <input className=\"input inline-input\" placeholder=\"Amount\" type=\"number\" onChange={(event) => setAmount(event.target.value)}></input>\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Price\n              <span className=\"hint\">{generatePriceHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" placeholder=\"Price\" type=\"number\" onChange={(event) => setPrice(event.target.value)}></input>\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Will Get</div>\n            <div className=\"input-wrapper\">\n              {generateTokenSelection('price')}\n              <input className=\"input inline-input\" disabled type=\"number\" value={total}></input>\n            </div>\n          </div>\n          <div className=\"make-btn\" onClick={() => onMake()}>Sell</div>\n        </div>\n        <div className=\"trade-panel\">\n          <div className=\"panel-header\">\n            <div className=\"panel-title\">Order Book</div>\n            <div className=\"tabs\">\n              <div className={makeView === 'all' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => setMakeView('all')}>All</div>\n              <div className={makeView === 'my' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => onChangeToUserMakeView()}>My</div>\n            </div>\n          </div>\n          <div className=\"list-title\">\n            <div className=\"blank-placeholder\"></div>\n            <div className=\"title-items\">\n              <div className=\"item-text\">Price ({getPriceToken()})</div>\n              <div className=\"item-text\">Amount ({getAmountHint()})</div>\n              {/* <div className=\"item-text\">Total</div> */}\n              { makeView === 'my' && <div className=\"item-placeholder\"></div> }\n            </div>\n          </div>\n          <div className=\"sell-section\">\n            <div className=\"section-title\">Sell</div>\n            <div className=\"make-list reverse\">\n            {getMakes('sell')}\n            </div>\n          </div>\n          {\n            makeView === 'all' && <div className=\"last-price-wrapper\">\n              <div className=\"last-price-label\">Last Price</div>\n              <div className=\"last-price\">{lastPrice}</div>\n              <div className=\"last-price-placeholder\"></div>\n            </div>\n          }\n          <div className=\"buy-section\">\n            <div className=\"section-title\">Buy</div>\n            <div className=\"make-list\">\n            {getMakes('buy')}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"token-pool\">\n        <div className=\"container-header\">Token Balance</div>\n        {generateTokenPool()}\n      </div>\n    </div>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport * as Ontology from '@ont-dev/ontology-dapi';\nimport { positions, Provider } from \"react-alert\";\nimport AlertTemplate from \"react-alert-template-basic\";\nimport reportWebVitals from './reportWebVitals';\n\nOntology.client.registerClient({});\n\nconst options = {\n  timeout: 5000,\n  position: positions.TOP_RIGHT\n};\n\nReactDOM.render(\n  <Provider template={AlertTemplate} {...options}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}