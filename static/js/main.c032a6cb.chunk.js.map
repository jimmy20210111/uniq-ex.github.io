{"version":3,"sources":["../node_modules/milagro-crypto-js/src sync /^/.//.*$","utils/common.js","config.js","utils/errorHandle.js","App.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","getQueryString","search","name","reg","RegExp","value","substr","match","networkType","contractAddress","handleError","callback","json","JSON","parse","Result","priceDecimals","StringReader","utils","hexstr2str","App","useState","localStorage","getItem","account","setAccount","tokens","setTokens","assetToken","setAssetToken","priceToken","setPriceToken","makes","setMakes","myMakes","setMyMakes","makeView","setMakeView","price","setPrice","amount","setAmount","total","setTotal","pool","setPool","lastPrice","setLastPrice","show","type","text","extraText","extraLink","infoModal","setInfoModal","showSiteIntro","setShowSiteIntro","loadingTokens","setLoadingTokens","stopInterval","setStopInterval","Alert","useAlert","urlAssetTokenId","parseInt","window","location","urlPriceTokenId","getAllTokens","a","length","client","api","smartContract","invokeWasmRead","scriptHash","operation","args","tokenStr","parsedTokens","strReader","tokenCount","readNextLen","i","token","nameLength","read","address","ty","readUint8","decimals","readUint128","push","tokenMap","filteredTokens","values","t","label","tempToken","filter","errorCode","console","log","onConnectWallet","provider","getProvider","network","getNetwork","error","asset","getAccount","accountAddress","setItem","BigNumber","times","integerValue","ROUND_DOWN","toString","invokeWasm","gasPrice","gasLimit","requireIdentity","makeResult","transaction","onUnmake","makeId","getMakes","curMakes","m","asset_token_id","price_token_id","className","div","Math","pow","onClick","make_id","generateTokenSelection","onChangeToken","onChangeAssetToken","onChangePriceToken","defaultToken","defaultValue","options","isSearchable","components","Option","props","SingleValue","children","onChange","theme","borderRadius","colors","primary","toggleShowSiteIntro","useEffect","interval","setInterval","clearInterval","getMakesOfPair","makeStr","parsedMakes","pairLastPrice","tempAssetTokenId","tempPriceTokenId","j","makeCount","make","getUserMakes","hexToAddress","getStat","statStr","tokenPool","balance","target","rel","href","placeholder","event","generatePriceHint","disabled","onMake","getPriceToken","getAmountHint","tp","generateTokenPool","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Ontology","registerClient","timeout","position","positions","TOP_RIGHT","ReactDOM","render","template","AlertTemplate","document","getElementById"],"mappings":"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","file":"static/js/main.c032a6cb.chunk.js","sourcesContent":["var map = {\n\t\"./aes\": 241,\n\t\"./aes.js\": 241,\n\t\"./big\": 242,\n\t\"./big.js\": 242,\n\t\"./ctx\": 146,\n\t\"./ctx.js\": 146,\n\t\"./ecdh\": 243,\n\t\"./ecdh.js\": 243,\n\t\"./ecp\": 244,\n\t\"./ecp.js\": 244,\n\t\"./ecp2\": 245,\n\t\"./ecp2.js\": 245,\n\t\"./ff\": 246,\n\t\"./ff.js\": 246,\n\t\"./fp\": 247,\n\t\"./fp.js\": 247,\n\t\"./fp12\": 248,\n\t\"./fp12.js\": 248,\n\t\"./fp2\": 249,\n\t\"./fp2.js\": 249,\n\t\"./fp4\": 250,\n\t\"./fp4.js\": 250,\n\t\"./gcm\": 251,\n\t\"./gcm.js\": 251,\n\t\"./hash256\": 252,\n\t\"./hash256.js\": 252,\n\t\"./hash384\": 253,\n\t\"./hash384.js\": 253,\n\t\"./hash512\": 254,\n\t\"./hash512.js\": 254,\n\t\"./mpin\": 255,\n\t\"./mpin.js\": 255,\n\t\"./newhope\": 256,\n\t\"./newhope.js\": 256,\n\t\"./nhs\": 257,\n\t\"./nhs.js\": 257,\n\t\"./pair\": 258,\n\t\"./pair.js\": 258,\n\t\"./rand\": 259,\n\t\"./rand.js\": 259,\n\t\"./rom_curve\": 260,\n\t\"./rom_curve.js\": 260,\n\t\"./rom_field\": 261,\n\t\"./rom_field.js\": 261,\n\t\"./rsa\": 262,\n\t\"./rsa.js\": 262,\n\t\"./sha3\": 263,\n\t\"./sha3.js\": 263,\n\t\"./uint64\": 264,\n\t\"./uint64.js\": 264\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 547;","export function getQueryString(search, name) {\n  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`, 'i');\n  const value = search.substr(1).match(reg);\n\n  if (value != null) { return (value[2]); }\n\n  return null;\n}","export const networkType = 'TEST'\nexport const contractAddress = '7109a491e26679e72d82c0084806afa34aaeb309'","export const handleError = (e, callback = () => {}) => {\n  const json = JSON.parse(e)\n  if (json.Result === 'wasm contract does not exist') {\n    callback('CONTRACT_ADDRESS_ERROR')\n  }\n}","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport Select, { components } from 'react-select'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { getQueryString } from './utils/common'\nimport { networkType, contractAddress } from './config'\nimport { handleError } from './utils/errorHandle'\nimport './App.css'\n\n// const { Address } = Crypto\nconst priceDecimals = 10 ** 6\nconst { StringReader, hexstr2str } = utils\n// const restClient = new RestClient(CONST.TEST_ONT_URL.RPC_URL)\n\nexport const App = () => {\n  const [account, setAccount] = useState(localStorage.getItem('account'))\n  const [tokens, setTokens] = useState([])\n  const [assetToken, setAssetToken] = useState({})\n  const [priceToken, setPriceToken] = useState({})\n  const [makes, setMakes] = useState([])\n  const [myMakes, setMyMakes] = useState([])\n  const [makeView, setMakeView] = useState('all')\n  const [price, setPrice] = useState('')\n  const [amount, setAmount] = useState('')\n  const [total, setTotal] = useState(0)\n  const [pool, setPool] = useState([])\n  const [lastPrice, setLastPrice] = useState(0)\n  const [infoModal, setInfoModal] = useState({\n    show: false,\n    type: 'success',\n    text: '',\n    extraText: '',\n    extraLink: ''\n  })\n  const [showSiteIntro, setShowSiteIntro] = useState(false)\n  const [loadingTokens, setLoadingTokens] = useState(true)\n  const [stopInterval, setStopInterval] = useState(false)\n  const Alert = useAlert()\n  // const [balance, setBalance] = useState(0)\n\n  const urlAssetTokenId = parseInt(getQueryString(window.location.search, 'asset') || 1)\n  const urlPriceTokenId = parseInt(getQueryString(window.location.search, 'price') || 2)\n\n  useEffect(() => {\n    getAllTokens()\n    let interval = !stopInterval && setInterval(() => {\n      if (tokens.length) {\n        clearInterval(interval)\n      } else {\n        getAllTokens()\n      }\n    }, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokens, stopInterval])\n\n  useEffect(() => {\n    async function getMakesOfPair() {\n      if (assetToken.id) {\n        if (assetToken.id === priceToken.id) {\n          setMakes([])\n          setLastPrice(0)\n          return\n        }\n        try {\n          const makeStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: contractAddress,\n            operation: 'get_makes_of_pair',\n            args: [\n              {\n                type: 'Long',\n                value: assetToken.id\n              },\n              {\n                type: 'Long',\n                value: priceToken.id\n              }\n            ]\n          })\n  \n          const parsedMakes = []\n          const strReader = new StringReader(makeStr)\n          const pairLastPrice = strReader.readUint128()\n          const tempAssetTokenId = assetToken.id < priceToken.id ? assetToken.id : priceToken.id\n          const tempPriceTokenId = assetToken.id < priceToken.id ? priceToken.id : assetToken.id\n  \n          for (let j = 0; j <= 1; j++) {\n            const makeCount = strReader.readNextLen()\n            for (let i = 0; i < makeCount; i++) {\n              const make = {}\n              make.make_id = strReader.readUint128()\n              make.price = strReader.readUint128()\n              make.amount = new BigNumber(strReader.readUint128()).toString()\n              make.asset_token_id = (j === 0 ? tempAssetTokenId : tempPriceTokenId)\n              make.price_token_id = (j === 0 ? tempPriceTokenId : tempAssetTokenId)\n      \n              parsedMakes.push(make)\n            }\n          }\n  \n          setLastPrice(pairLastPrice ? (assetToken.id < priceToken.id ? pairLastPrice / priceDecimals : priceDecimals / pairLastPrice) : 0)\n          setMakes(parsedMakes)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get makes of pair', e)\n            }\n          })\n        }\n      }\n    }\n    getMakesOfPair()\n    const interval = !stopInterval && setInterval(getMakesOfPair, 2000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [assetToken, priceToken, account, stopInterval])\n\n  useEffect(() => {\n    async function getUserMakes() {\n      if (account) {\n        try {\n          const makeStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: contractAddress,\n            operation: 'get_user_makes',\n            args: [\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n  \n          const parsedMakes = []\n          const strReader = new StringReader(makeStr)\n          const makeCount = strReader.readNextLen()\n          for (let i = 0; i < makeCount; i++) {\n            const make = {}\n            make.address = client.api.utils.hexToAddress(strReader.read(20))\n            make.asset_token_id = strReader.readUint128()\n            make.price_token_id = strReader.readUint128()\n            make.price = strReader.readUint128()\n            make.amount = strReader.readUint128()\n            make.make_id = strReader.readUint128()\n  \n            parsedMakes.push(make)\n          }\n  \n          setMyMakes(parsedMakes)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get user makes', e)\n            }\n          })\n        }\n      }\n    }\n\n    getUserMakes()\n    const interval = !stopInterval && setInterval(getUserMakes, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [assetToken, priceToken, account, stopInterval])\n\n  useEffect(() => {\n    async function getStat() {\n      if (tokens.length) {\n        try {\n          const statStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: contractAddress,\n            operation: 'stat',\n            args: []\n          })\n          \n          const tokenPool = []\n          const strReader = new StringReader(statStr)\n          strReader.readUint128()\n          const tokenCount = strReader.readNextLen()\n  \n          for (let i = 0; i < tokenCount; i++) {\n            const token = {}\n            token.id = strReader.readUint128()\n            const tempToken = tokens.filter((t) => t.id === token.id)[0]\n            token.balance = new BigNumber(strReader.readUint128()).div(new BigNumber(10 ** tempToken.decimals)).toString()\n            token.name = tempToken.name\n  \n            tokenPool.push(token)\n          }\n  \n          setPool(tokenPool)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get stat', e)\n            }\n          })\n        }\n      }\n    }\n\n    getStat()\n    const interval = setInterval(() => {\n      if (stopInterval) {\n        clearInterval(interval)\n      } else {\n        getStat()\n      }\n    }, 5000)\n    return () => clearInterval(interval)\n  }, [tokens, stopInterval])\n\n  useEffect(() => {\n    setTotal((price || 0) * (amount || 0))\n  }, [price, amount])\n\n  useEffect(() => {\n    setMakeView('all')\n  }, [account])\n\n\n  async function getAllTokens() {\n    if (!tokens.length) {\n      try {\n        const tokenStr = await client.api.smartContract.invokeWasmRead({\n          scriptHash: contractAddress,\n          operation: 'get_all_tokens',\n          args: []\n        })\n\n        setLoadingTokens(false)\n        \n        const parsedTokens = []\n        const strReader = new StringReader(tokenStr)\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          const token = {}\n          const nameLength = strReader.readNextLen()\n          token.name = hexstr2str(strReader.read(nameLength))\n          token.address = strReader.read(20)\n          token.ty = strReader.readUint8()\n          token.decimals = strReader.readUint128()\n          token.id = strReader.readUint128()\n\n          parsedTokens.push(token)\n        }\n\n        const tokenMap = {}\n        for (let i = 0; i < parsedTokens.length; i++) {\n          tokenMap[parsedTokens[i].name] = parsedTokens[i]\n        }\n\n        const filteredTokens = Object.values(tokenMap).map((t) => {\n          return {\n            id: t.id,\n            decimals: t.decimals,\n            name: t.name,\n            value: t.id,\n            label: t.name\n          }\n        })\n\n        setTokens(filteredTokens)\n\n        let tempToken = filteredTokens.filter((t) => urlAssetTokenId === t.id)[0]\n        setAssetToken(tempToken || filteredTokens[0])\n        tempToken = filteredTokens.filter((t) => urlPriceTokenId === t.id)[0]\n        setPriceToken(tempToken || filteredTokens[1])\n      } catch (e) {\n        handleError(e, (errorCode) => {\n          if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n            setStopInterval(true)\n          } else {\n            console.log('get all tokens', e)\n          }\n        })\n      }\n    }\n  }\n\n  async function onConnectWallet() {\n    try {\n      await client.api.provider.getProvider()\n      const network = await client.api.network.getNetwork()\n      if (network && network.type !== networkType) {\n        Alert.error(`Please connect to the ${networkType}-Net`)\n        return\n      }\n      const accountAddress = await client.api.asset.getAccount()\n      setAccount(accountAddress)\n      localStorage.setItem('account', accountAddress)\n    } catch (e) {\n      if (e === 'NO_PROVIDER') {\n        Alert.error('Please install wallet extension first')\n      }\n    }\n  }\n\n  // async function getBalance() {\n  //   if (account) {\n  //     // const accountBalance = await client.api.network.getBalance({ address: account })\n  //     const accountBalance = await restClient.getBalance(new Address(account))\n  //     console.log(accountBalance)\n  //   }\n  // }\n\n  async function onMake() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    if (assetToken.id) {\n      if (assetToken.id === priceToken.id) {\n        Alert.error('Please select different token')\n        return\n      }\n      if (price <= 0) {\n        Alert.error('Price should be greater than 0')\n        return\n      }\n      if (amount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: assetToken.id\n          },\n          {\n            type: 'Long',\n            value: priceToken.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(price).times(priceDecimals).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(amount).times(new BigNumber(10 ** assetToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const makeResult = await client.api.smartContract.invokeWasm({\n          scriptHash: contractAddress,\n          operation: 'make',\n          args,\n          gasPrice: 2500,\n          gasLimit: 3000000,\n          requireIdentity: false\n        })\n\n        if (makeResult.transaction) {\n          setInfoModal({\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `https://explorer.ont.io/transaction/${makeResult.transaction}`\n          })\n        }\n      } catch (e) {\n        setInfoModal({\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          extraText: `${e}`,\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  async function onUnmake(makeId) {\n    if (account && makeId) {\n      try {\n        await client.api.smartContract.invokeWasm({\n          scriptHash: contractAddress,\n          operation: 'unmake',\n          args: [\n            {\n              type: 'Address',\n              value: account\n            },\n            {\n              type: 'Long',\n              value: makeId\n            }\n          ],\n          gasPrice: 2500,\n          gasLimit: 3000000,\n          requireIdentity: false\n        })\n      } catch (e) {\n        console.log('onunmake', e)\n      }\n    }\n  }\n\n  function onSignOut() {\n    setAccount('')\n    localStorage.setItem('account', '')\n  }\n\n  function onChangeToUserMakeView() {\n    if (account) {\n      setMakeView('my')\n    } else {\n      Alert.show('Please Connect Wallet First')\n    }\n  }\n\n  function getMakes(type) {\n    if (assetToken.id) {\n      const curMakes = (makeView === 'my' ? myMakes : makes)\n      if (type === 'sell') {\n        return curMakes.filter((m) => m.asset_token_id === assetToken.id && m.price_token_id === priceToken.id).map((m) => {\n          return (\n            <div key={m.make_id} className=\"my-make-item reverse\">\n              <div className=\"make-item-detail make-sell\">{m.price / priceDecimals}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).div(Math.pow(10, assetToken.decimals)).toString()}</div>\n              {/* <div className=\"make-item-detail\">{new BigNumber(m.amount).times(m.price).div(Math.pow(10, assetToken.decimals)).div(priceDecimals).toString()}</div> */}\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>Cancel</div> }\n            </div>)\n        })\n      } else {\n        return curMakes.filter((m) => m.asset_token_id === priceToken.id && m.price_token_id === assetToken.id).map((m) => {\n          return (\n            <div key={m.make_id} className=\"my-make-item\">\n              <div className=\"make-item-detail make-buy\">{priceDecimals / m.price}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).times(m.price).div(priceDecimals).div(Math.pow(10, priceToken.decimals)).toString()}</div>\n              {/* <div className=\"make-item-detail\">{new BigNumber(m.amount).div(Math.pow(10, priceToken.decimals)).toString()}</div> */}\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>Cancel</div> }\n            </div>)\n        })\n      }\n    }\n    return null\n  }\n\n  function generatePriceHint() {\n    if (assetToken.id) {\n      return `1 ${assetToken.name} = ${price || '?'} ${priceToken.name}`\n    }\n  }\n\n  function getAmountHint() {\n    if (assetToken.id) {\n      return assetToken.name\n    }\n  }\n\n  function getPriceToken() {\n    if (assetToken.id && priceToken.id) {\n      return `${assetToken.name}/${priceToken.name}`\n    }\n  }\n\n  function generateTokenSelection(type) {\n    if (tokens.length) {\n      const CustomOption = (props) => (\n        <components.Option {...props}>\n          <div className=\"option-wrapper\">\n            <div className={`option-icon-${props.label} option-icon`}></div>\n            <div className=\"option-label\">{props.label}</div>\n          </div>\n        </components.Option>\n      )\n      const SingleValue = ({ children, ...props }) => (\n        <components.SingleValue {...props}>\n          <div className=\"option-wrapper\">\n            <div className={`option-icon-${children} option-icon`}></div>\n            <div className=\"option-label\">{children}</div>\n          </div>\n        </components.SingleValue>\n      )\n      const onChangeToken = (type === 'asset' ? onChangeAssetToken : onChangePriceToken)\n      let defaultToken = {}\n      let tempToken = {}\n      if (type === 'asset') {\n        tempToken = tokens.filter((t) => urlAssetTokenId === t.id)[0]\n        defaultToken = tempToken || tokens[0]\n      } else {\n        tempToken = tokens.filter((t) => urlPriceTokenId === t.id)[0]\n        defaultToken = tempToken || tokens[1]\n      }\n      return (\n        <Select\n          className=\"token-select\"\n          defaultValue={defaultToken}\n          options={tokens}\n          isSearchable={false}\n          components={{ Option: CustomOption, SingleValue }}\n          onChange={(e) => onChangeToken(e)}\n          theme={theme => ({\n            ...theme,\n            borderRadius: 0,\n            colors: {\n              ...theme.colors,\n              primary: '#2c2c2c',\n            },\n          })}\n        />\n      )\n    }\n  }\n\n  function onChangeAssetToken(e) {\n    if (e.value !== assetToken.id) {\n      setAssetToken(tokens.filter((t) => t.id === e.value)[0])\n    }\n  }\n\n  function onChangePriceToken(e) {\n    if (e.value !== priceToken.id) {\n      setPriceToken(tokens.filter((t) => t.id === e.value)[0])\n    }\n  }\n\n  function generateTokenPool() {\n    if (pool.length) {\n      return pool.map((tp) => {\n        return (\n          <div className=\"pool-item\" key={tp.name}>\n            <div className=\"token-name\">{tp.name}</div>\n            <div className=\"token-balance\">{tp.balance}</div>\n          </div>\n        )\n      })\n    }\n  }\n\n  function onCloseModal() {\n    setInfoModal({\n      ...infoModal,\n      show: false\n    })\n  }\n\n  function renderInfoModal() {\n    if (infoModal.show) {\n      return (\n        <div className=\"info-modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => onCloseModal()}></div>\n            <div className={`modal-icon-${infoModal.type} modal-icon`}></div>\n            <div className={`modal-text-${infoModal.type} modal-text`}>{infoModal.text}</div>\n            <div className=\"modal-extra-text\">\n            {\n              infoModal.extraLink ? (\n                <a className=\"transaction-link\" target=\"_blank\" rel=\"noreferrer\" href={infoModal.extraLink}>{infoModal.extraText}</a>\n              ) : infoModal.extraText\n            }\n            </div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  function toggleShowSiteIntro(show) {\n    setShowSiteIntro(show)\n  }\n\n  function renderSiteIntro() {\n    if (showSiteIntro) {\n      return (\n        <div className=\"info-modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => toggleShowSiteIntro(false)}></div>\n            <p className=\"intro-line\">uniq-ex is a pure github based DAO dex, all activities are logged on github.</p>\n            <p className=\"intro-line\">You can open issues for discussion <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/uniq-ex/uniq-ex/issues\">here</a></p>\n            <p className=\"intro-line\">uniq-ex's future business will not be limited to exchanges though, we may enter various DeFi markets like compound or hegic.</p>\n            <p className=\"intro-line\">We're open to crowdfunding, you can buy our governance token <a target=\"_blank\" rel=\"noreferrer\" href=\"https://uniq-ex.github.io?asset=1&price=2\">here</a></p>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  function renderLoading() {\n    if (loadingTokens) {\n      return (\n        <div className=\"info-modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"modal-icon-loading modal-icon\"></div>\n            <div className=\"modal-text\">Loading Tokens</div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  return (\n    <div className=\"app\">\n      {\n        (account === null) && <div className=\"connect-wallet-overlay\">\n          <div className=\"connect-wrapper\">\n            <p className=\"connect-title\">Connect Wallet</p>\n            <div className=\"wallet-item\" onClick={() => onConnectWallet()}>Cyano Wallet</div>\n          </div>\n        </div>\n      }\n      {renderInfoModal()}\n      {renderSiteIntro()}\n      {renderLoading()}\n      <div className=\"header\">\n        <div className=\"content-wrapper\">\n          <div className=\"logo-wrapper\">\n            <div className=\"site-intro\" onClick={() => toggleShowSiteIntro(true)}></div>\n          </div>\n          <div className=\"profile-wrapper\">\n            { account && <span className=\"account-address\">{account}</span> }\n            { account && <span className=\"signout-btn\" onClick={() => onSignOut()}>Sign Out</span> }\n            { account === '' && <span className=\"connect-btn\" onClick={() => onConnectWallet()}>Connect Wallet</span>}\n          </div>\n        </div>\n      </div>\n      <div className=\"trade-container\">\n        <div className=\"make-wrapper\">\n          <div className=\"container-header\">Trade</div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Amount</div>\n            <div className=\"input-wrapper\">\n              {generateTokenSelection('asset')}\n              <input className=\"input inline-input\" placeholder=\"Amount\" type=\"number\" onChange={(event) => setAmount(event.target.value)}></input>\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Price\n              <span className=\"hint\">{generatePriceHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" placeholder=\"Price\" type=\"number\" onChange={(event) => setPrice(event.target.value)}></input>\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Will Get</div>\n            <div className=\"input-wrapper\">\n              {generateTokenSelection('price')}\n              <input className=\"input inline-input\" disabled type=\"number\" value={total}></input>\n            </div>\n          </div>\n          <div className=\"make-btn\" onClick={() => onMake()}>Sell</div>\n        </div>\n        <div className=\"trade-panel\">\n          <div className=\"panel-header\">\n            <div className=\"panel-title\">Order Book</div>\n            <div className=\"tabs\">\n              <div className={makeView === 'all' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => setMakeView('all')}>All</div>\n              <div className={makeView === 'my' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => onChangeToUserMakeView()}>My</div>\n            </div>\n          </div>\n          <div className=\"list-title\">\n            <div className=\"blank-placeholder\"></div>\n            <div className=\"title-items\">\n              <div className=\"item-text\">Price ({getPriceToken()})</div>\n              <div className=\"item-text\">Amount ({getAmountHint()})</div>\n              {/* <div className=\"item-text\">Total</div> */}\n              { makeView === 'my' && <div className=\"item-placeholder\"></div> }\n            </div>\n          </div>\n          <div className=\"sell-section\">\n            <div className=\"section-title\">Sell</div>\n            <div className=\"make-list reverse\">\n            {getMakes('sell')}\n            </div>\n          </div>\n          {\n            makeView === 'all' && <div className=\"last-price-wrapper\">\n              <div className=\"last-price-label\">Last Price</div>\n              <div className=\"last-price\">{lastPrice}</div>\n              <div className=\"last-price-placeholder\"></div>\n            </div>\n          }\n          <div className=\"buy-section\">\n            <div className=\"section-title\">Buy</div>\n            <div className=\"make-list\">\n            {getMakes('buy')}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"token-pool\">\n        <div className=\"container-header\">Token Balance</div>\n        {generateTokenPool()}\n      </div>\n    </div>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport * as Ontology from '@ont-dev/ontology-dapi';\nimport { positions, Provider } from \"react-alert\";\nimport AlertTemplate from \"react-alert-template-basic\";\nimport reportWebVitals from './reportWebVitals';\n\nOntology.client.registerClient({});\n\nconst options = {\n  timeout: 5000,\n  position: positions.TOP_RIGHT\n};\n\nReactDOM.render(\n  <Provider template={AlertTemplate} {...options}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}