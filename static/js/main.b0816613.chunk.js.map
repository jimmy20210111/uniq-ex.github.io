{"version":3,"sources":["../node_modules/milagro-crypto-js/src sync /^/.//.*$","config.js","utils/common.js","components/header/index.js","components/modal/index.js","utils/errorHandle.js","hooks/token.js","utils/constants.js","pages/transaction/index.js","pages/staking/index.js","pages/token/index.js","App.js","reducers/modal.js","reducers/wallet.js","reducers/common.js","reducers/index.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","NETWORK_TYPE","CONTRACT_ADDRESS","STAKING_ADDRESS","READY_TABS","getHashString","hash","name","reg","RegExp","value","substr","match","formatAccount","account","Header","props","useMappedState","state","wallet","useState","showSiteIntro","setShowSiteIntro","toggleShowSiteIntro","show","className","onClick","target","rel","href","indexOf","to","onSignOut","onConnectWallet","InfoModal","onCloseModal","type","text","extraLink","extraText","Modal","infoModal","modal","dispatch","useDispatch","setModal","useCallback","modalType","modalDetail","modals","push","assign","buildModals","handleError","callback","json","JSON","parse","Result","error","StringReader","utils","hexstr2str","PRICE_DECIMALS","Transaction","assetToken","setAssetToken","priceToken","setPriceToken","makes","setMakes","myMakes","setMyMakes","makeView","setMakeView","price","setPrice","amount","setAmount","total","setTotal","pool","setPool","lastPrice","setLastPrice","feeRate","setFeeRate","stopInterval","common","loadingToken","tokens","setStopInterval","Alert","useAlert","urlAssetTokenId","parseInt","window","location","urlPriceTokenId","setLoadingToken","setTokens","getAllTokens","length","client","api","smartContract","invokeWasmRead","scriptHash","operation","args","then","tokenStr","parsedTokens","strReader","tokenCount","readNextLen","i","token","nameLength","read","address","ty","readUint8","decimals","readUint128","tokenMap","filteredTokens","values","t","label","catch","console","log","errorCode","useEffect","interval","setInterval","clearInterval","useFetchTokens","tempToken","filter","getMakesOfPair","makeStr","parsedMakes","pairLastPrice","tempAssetTokenId","tempPriceTokenId","j","makeCount","make","make_id","BigNumber","toString","asset_token_id","price_token_id","getUserMakes","hexToAddress","getStat","a","statStr","tokenPool","balance","div","generateTokenSelection","onChangeToken","onChangeAssetToken","onChangePriceToken","defaultToken","defaultValue","options","isSearchable","components","Option","SingleValue","children","onChange","theme","borderRadius","colors","primary","getMakes","curMakes","m","Math","pow","onUnmake","times","integerValue","ROUND_DOWN","invokeWasm","gasPrice","gasLimit","requireIdentity","makeResult","transaction","makeId","placeholder","event","generatePriceHint","disabled","onMake","getPriceToken","getAmountHint","tp","generateTokenPool","Staking","stakeToken","setStakeToken","stakingInfo","setStakingInfo","myStakes","setMyStakes","stakeType","setStakeType","showStakingModal","setShowStakingModal","loadingStakingToken","stopStakingInterval","stakingTokens","setStopStakingInterval","getAccountStakes","Promise","all","stakeStr","interest","stakes","find","s","stakeResult","infoStr","info","period","start_time","settled_time","setLoadingStakingToken","setStakingTokens","getStakingTokens","weight","totalWeight","reduce","b","useFetchStakingTokens","myStake","toFixed","onChooseToken","generateStakingPool","onStake","Token","App","setAccount","provider","getProvider","network","getNetwork","asset","getAccount","accountAddress","localStorage","setItem","exact","path","initState","getItem","reducers","combineReducers","action","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","Ontology","registerClient","timeout","position","positions","TOP_CENTER","ReactDOM","render","template","AlertTemplate","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.b0816613.chunk.js","sourcesContent":["var map = {\n\t\"./aes\": 253,\n\t\"./aes.js\": 253,\n\t\"./big\": 254,\n\t\"./big.js\": 254,\n\t\"./ctx\": 155,\n\t\"./ctx.js\": 155,\n\t\"./ecdh\": 255,\n\t\"./ecdh.js\": 255,\n\t\"./ecp\": 256,\n\t\"./ecp.js\": 256,\n\t\"./ecp2\": 257,\n\t\"./ecp2.js\": 257,\n\t\"./ff\": 258,\n\t\"./ff.js\": 258,\n\t\"./fp\": 259,\n\t\"./fp.js\": 259,\n\t\"./fp12\": 260,\n\t\"./fp12.js\": 260,\n\t\"./fp2\": 261,\n\t\"./fp2.js\": 261,\n\t\"./fp4\": 262,\n\t\"./fp4.js\": 262,\n\t\"./gcm\": 263,\n\t\"./gcm.js\": 263,\n\t\"./hash256\": 264,\n\t\"./hash256.js\": 264,\n\t\"./hash384\": 265,\n\t\"./hash384.js\": 265,\n\t\"./hash512\": 266,\n\t\"./hash512.js\": 266,\n\t\"./mpin\": 267,\n\t\"./mpin.js\": 267,\n\t\"./newhope\": 268,\n\t\"./newhope.js\": 268,\n\t\"./nhs\": 269,\n\t\"./nhs.js\": 269,\n\t\"./pair\": 270,\n\t\"./pair.js\": 270,\n\t\"./rand\": 271,\n\t\"./rand.js\": 271,\n\t\"./rom_curve\": 272,\n\t\"./rom_curve.js\": 272,\n\t\"./rom_field\": 273,\n\t\"./rom_field.js\": 273,\n\t\"./rsa\": 274,\n\t\"./rsa.js\": 274,\n\t\"./sha3\": 275,\n\t\"./sha3.js\": 275,\n\t\"./uint64\": 276,\n\t\"./uint64.js\": 276\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 566;","export const NETWORK_TYPE = 'TEST'\nexport const CONTRACT_ADDRESS = '50303ba5b6c96e80fa81de357d1f2a32abfe9f0e'\nexport const STAKING_ADDRESS = 'c5b4a2b060c4255b8eee1f5ab05e2e35a3f1ce55'\nexport const URL_BASENAME = '/test'\nexport const READY_TABS = ['/', '/staking', '/token']","export const getQueryString = (search, name) => {\n  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`, 'i');\n  const value = search.substr(1).match(reg);\n\n  if (value != null) { return (value[2]); }\n\n  return null;\n}\n\nexport const getHashString = (hash, name) => {\n  const reg = new RegExp(`(^|&|[\\/\\?]+)${name}=([^&]*)(&|$)`, 'i');\n  const value = hash.substr(1).match(reg);\n\n  if (value != null) { return (value[2]); }\n\n  return null;\n}\n\nexport const formatAccount = (account = '') => {\n  return `${account.substr(0, 6)}...${account.substr(-4)}`\n}\n","import React, { useState, useEffect } from 'react'\nimport { useMappedState } from 'redux-react-hook'\nimport { Link } from 'react-router-dom'\nimport { READY_TABS } from '../../config'\nimport { formatAccount } from '../../utils/common'\nimport './index.css'\n\nconst Header = (props) => {\n  const { account } = useMappedState((state) => ({\n    account: state.wallet.account\n  }))\n  const [showSiteIntro, setShowSiteIntro] = useState(false)\n\n  const toggleShowSiteIntro = (show) => {\n    setShowSiteIntro(show)\n  }\n\n  const renderSiteIntro = () => {\n    if (showSiteIntro) {\n      return (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => toggleShowSiteIntro(false)}></div>\n            <p className=\"intro-line\">uniq-ex is a pure github based DAO dex, all activities are logged on github.</p>\n            <p className=\"intro-line\">You can open issues for discussion <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/uniq-ex/uniq-ex/issues\">here</a></p>\n            <p className=\"intro-line\">uniq-ex's future business will not be limited to exchanges though, we may enter various DeFi markets like compound or hegic.</p>\n            <p className=\"intro-line\">You can buy UNX(the governance token of uniq-ex) <a target=\"_blank\" rel=\"noreferrer\" href=\"https://uniq-ex.github.io/#/?asset=8&price=14\">here</a></p>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  const onSignOut = () => {\n    typeof props.onSignOut === 'function' && props.onSignOut()\n  }\n\n  const onConnectWallet = () => {\n    typeof props.onConnectWallet === 'function' && props.onConnectWallet()\n  }\n\n  return (\n    <div className=\"header-wrapper\">\n      {renderSiteIntro()}\n      <div className=\"header\">\n        <div className=\"content-wrapper\">\n          <div className=\"logo-wrapper\">\n            <div className=\"site-intro\" onClick={() => toggleShowSiteIntro(true)}></div>\n          </div>\n          <div className=\"nav-list\">\n            { READY_TABS.indexOf('/') >= 0 ? <div className=\"nav-item\"><Link to=\"/\">Trade</Link></div> : null }\n            { READY_TABS.indexOf('/staking') >= 0 ? <div className=\"nav-item\"><Link to=\"/staking\">Staking</Link></div> : null }\n            { READY_TABS.indexOf('/token') >= 0 ? <div className=\"nav-item\"><Link to=\"/token\">Token</Link></div> : null }\n          </div>\n          <div className={`${account ? 'active' : ''} profile-wrapper`}>\n            { account && <span className=\"account-address\">{formatAccount(account)}</span> }\n            { account && <span className=\"signout-btn\" onClick={() => onSignOut()}>Sign Out</span> }\n            { !account && <span className=\"connect-btn\" onClick={() => onConnectWallet()}>Connect Wallet</span>}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header","import React, { useCallback } from 'react'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport './index.css'\n\nconst InfoModal = (props) => {\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-wrapper\">\n        <div className=\"close-btn\" onClick={() => props.onCloseModal()}></div>\n        <div className={`modal-icon-${props.type} modal-icon`}></div>\n        <div className={`modal-text-${props.type} modal-text`}>{props.text}</div>\n        <div className=\"modal-extra-text\">\n        {\n          props.extraLink ? (\n            <a className=\"transaction-link\" target=\"_blank\" rel=\"noreferrer\" href={props.extraLink}>{props.extraText}</a>\n          ) : props.extraText\n        }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Modal = (props) => {\n  const { infoModal } = useMappedState((state) => ({\n    infoModal: state.modal.infoModal\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n\n  const onCloseInfoModal = () => {\n    setModal('infoModal', Object.assign({}, infoModal, { show: false }))\n  }\n\n  const buildModals = () => {\n    const modals = []\n    if (infoModal.show) {\n      modals.push(<InfoModal {...infoModal} onCloseModal={() => onCloseInfoModal()} />)\n    }\n    return modals\n  }\n\n  return (\n    <div className=\"modal-container\">\n      {buildModals()}\n    </div>\n  )\n}\n\nexport default Modal","export const handleError = (e, callback = () => {}) => {\n  try {\n    const json = JSON.parse(e)\n    if (json.Result === 'wasm contract does not exist') {\n      callback('CONTRACT_ADDRESS_ERROR')\n    }\n  } catch(error) {\n    // TODO\n  }\n}","import { useEffect, useCallback } from 'react'\nimport { client } from '@ont-dev/ontology-dapi'\nimport { utils } from 'ontology-ts-sdk'\nimport { CONTRACT_ADDRESS, STAKING_ADDRESS } from '../config'\nimport { handleError } from '../utils/errorHandle'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\n\nconst { StringReader, hexstr2str } = utils\n\nexport const useFetchTokens = () => {\n  const { stopInterval, tokens } = useMappedState((state) => ({\n    stopInterval: state.common.stopInterval,\n    tokens: state.common.tokens\n  }))\n  const dispatch = useDispatch()\n  const setLoadingToken = useCallback((loadingToken) => dispatch({ type: 'SET_LOADING_TOKEN', loadingToken }), [])\n  const setTokens = useCallback((tokens) => dispatch({ type: 'SET_TOKENS', tokens }), [])\n  const setStopInterval = useCallback((stopInterval) => dispatch({ type: 'SET_STOP_INTERVAL', stopInterval }), [])\n\n  useEffect(() => {\n    getAllTokens()\n    let interval = !stopInterval && setInterval(() => {\n      if (tokens.length) {\n        clearInterval(interval)\n      } else {\n        getAllTokens()\n      }\n    }, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokens, stopInterval])\n\n  function getAllTokens() {\n    if (!tokens.length) {\n      try {\n        client.api.smartContract.invokeWasmRead({\n          scriptHash: CONTRACT_ADDRESS,\n          operation: 'get_all_tokens',\n          args: []\n        })\n        .then((tokenStr) => {\n          setLoadingToken(false)\n        \n          const parsedTokens = []\n          const strReader = new StringReader(tokenStr)\n          const tokenCount = strReader.readNextLen()\n          for (let i = 0; i < tokenCount; i++) {\n            const token = {}\n            const nameLength = strReader.readNextLen()\n            token.name = hexstr2str(strReader.read(nameLength))\n            token.address = strReader.read(20)\n            token.ty = strReader.readUint8()\n            token.decimals = strReader.readUint128()\n            token.id = strReader.readUint128()\n\n            parsedTokens.push(token)\n          }\n\n          const tokenMap = {}\n          for (let i = 0; i < parsedTokens.length; i++) {\n            tokenMap[parsedTokens[i].name] = parsedTokens[i]\n          }\n\n          const filteredTokens = Object.values(tokenMap).map((t) => {\n            return {\n              id: t.id,\n              decimals: t.decimals,\n              name: t.name,\n              value: t.id,\n              label: t.name\n            }\n          })\n\n          setTokens(filteredTokens)\n        })\n        .catch((e) => {\n          console.log(e)\n          handleError(e, (errorCode) => {\n            console.log(errorCode)\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get all tokens', e)\n            }\n          })\n        })\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  return null\n}\n\nexport const useFetchStakingTokens = () => {\n  const { stopStakingInterval, stakingTokens } = useMappedState((state) => ({\n    stopStakingInterval: state.common.stopStakingInterval,\n    stakingTokens: state.common.stakingTokens\n  }))\n  const dispatch = useDispatch()\n  const setLoadingStakingToken = useCallback((loadingStakingToken) => dispatch({ type: 'SET_LOADING_STAKING_TOKEN', loadingStakingToken }), [])\n  const setStakingTokens = useCallback((stakingTokens) => dispatch({ type: 'SET_STAKING_TOKENS', stakingTokens }), [])\n  const setStopStakingInterval = useCallback((stopStakingInterval) => dispatch({ type: 'SET_STOP_STAKING_INTERVAL', stopStakingInterval }), [])\n\n  useEffect(() => {\n    getStakingTokens()\n    let interval = !stopStakingInterval && setInterval(getStakingTokens, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [stopStakingInterval])\n\n  function getStakingTokens() {\n    try {\n      client.api.smartContract.invokeWasmRead({\n        scriptHash: STAKING_ADDRESS,\n        operation: 'get_all_tokens',\n        args: []\n      })\n      .then((tokenStr) => {\n        setLoadingStakingToken(false)\n      \n        const parsedTokens = []\n        const strReader = new StringReader(tokenStr)\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          const token = {}\n          const nameLength = strReader.readNextLen()\n          token.name = hexstr2str(strReader.read(nameLength))\n          token.address = strReader.read(20)\n          token.weight = strReader.readUint128()\n          token.ty = strReader.readUint8()\n          token.decimals = strReader.readUint128()\n          token.id = strReader.readUint128()\n          token.balance = strReader.readUint128()\n\n          parsedTokens.push(token)\n        }\n\n        const tokenMap = {}\n        for (let i = 0; i < parsedTokens.length; i++) {\n          tokenMap[parsedTokens[i].name] = parsedTokens[i]\n        }\n\n        const totalWeight = Object.values(tokenMap).filter((t) => t.balance).reduce((a, b) => a + b.weight, 0)\n        const filteredTokens = Object.values(tokenMap).map((t) => {\n          return {\n            id: t.id,\n            decimals: t.decimals,\n            name: t.name,\n            weight: t.balance ? (t.weight / totalWeight) : 0,\n            balance: t.balance,\n            value: t.id,\n            label: t.name\n          }\n        })\n\n        setStakingTokens(filteredTokens)\n      })\n      .catch((e) => {\n        console.log(e)\n        handleError(e, (errorCode) => {\n          console.log(errorCode)\n          if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n            setStopStakingInterval(true)\n          } else {\n            console.log('get staking tokens', e)\n          }\n        })\n      })\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  return null\n}","export const PRICE_DECIMALS = 10 ** 6","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport Select, { components } from 'react-select'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport { useFetchTokens } from '../../hooks/token'\n// import ReactTooltip from 'react-tooltip'\nimport { handleError } from '../../utils/errorHandle'\nimport { getHashString } from '../../utils/common'\nimport { PRICE_DECIMALS } from '../../utils/constants'\nimport { CONTRACT_ADDRESS } from '../../config'\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst Transaction = () => {\n  const [assetToken, setAssetToken] = useState({})\n  const [priceToken, setPriceToken] = useState({})\n  const [makes, setMakes] = useState([])\n  const [myMakes, setMyMakes] = useState([])\n  const [makeView, setMakeView] = useState('all')\n  const [price, setPrice] = useState('')\n  const [amount, setAmount] = useState('')\n  const [total, setTotal] = useState(0)\n  const [pool, setPool] = useState([])\n  const [lastPrice, setLastPrice] = useState(0)\n  const [feeRate, setFeeRate] = useState(0)\n  const { account, stopInterval, loadingToken, tokens } = useMappedState((state) => ({\n    account: state.wallet.account,\n    stopInterval: state.common.stopInterval,\n    loadingToken: state.common.loadingToken,\n    tokens: state.common.tokens\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: '', modalType, modalDetail }), [])\n  const setStopInterval = useCallback((stopInterval) => dispatch({ type: 'SET_STOP_INTERVAL', stopInterval }), [])\n\n  const Alert = useAlert()\n\n  const urlAssetTokenId = parseInt(getHashString(window.location.hash, 'asset') || 1)\n  const urlPriceTokenId = parseInt(getHashString(window.location.hash, 'price') || 2)\n\n  useFetchTokens()\n  useEffect(() => {\n    if (tokens.length) {\n      let tempToken = tokens.filter((t) => urlAssetTokenId === t.id)[0]\n      setAssetToken(tempToken || tokens[0])\n      tempToken = tokens.filter((t) => urlPriceTokenId === t.id)[0]\n      setPriceToken(tempToken || tokens[1])\n    }\n  }, [tokens])\n\n  useEffect(() => {\n    function getMakesOfPair() {\n      if (assetToken.id) {\n        if (assetToken.id === priceToken.id) {\n          setMakes([])\n          setLastPrice(0)\n          return\n        }\n        try {\n          client.api.smartContract.invokeWasmRead({\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'get_makes_of_pair',\n            args: [\n              {\n                type: 'Long',\n                value: assetToken.id\n              },\n              {\n                type: 'Long',\n                value: priceToken.id\n              }\n            ]\n          })\n          .then((makeStr) => {\n            const parsedMakes = []\n            const strReader = new StringReader(makeStr)\n            const pairLastPrice = strReader.readUint128()\n            const tempAssetTokenId = assetToken.id < priceToken.id ? assetToken.id : priceToken.id\n            const tempPriceTokenId = assetToken.id < priceToken.id ? priceToken.id : assetToken.id\n    \n            for (let j = 0; j <= 1; j++) {\n              const makeCount = strReader.readNextLen()\n              for (let i = 0; i < makeCount; i++) {\n                const make = {}\n                make.make_id = strReader.readUint128()\n                make.price = strReader.readUint128()\n                make.amount = new BigNumber(strReader.readUint128()).toString()\n                make.asset_token_id = (j === 0 ? tempAssetTokenId : tempPriceTokenId)\n                make.price_token_id = (j === 0 ? tempPriceTokenId : tempAssetTokenId)\n        \n                parsedMakes.push(make)\n              }\n            }\n    \n            setLastPrice(pairLastPrice ? (assetToken.id < priceToken.id ? pairLastPrice / PRICE_DECIMALS : PRICE_DECIMALS / pairLastPrice) : 0)\n            setMakes(parsedMakes)\n          })\n          .catch((e) => {\n            handleError(e, (errorCode) => {\n              if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n                setStopInterval(true)\n              } else {\n                console.log('get makes of pair', e)\n              }\n            })\n          })\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n    getMakesOfPair()\n    const interval = !stopInterval && setInterval(getMakesOfPair, 2000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [assetToken, priceToken, account, stopInterval])\n\n  useEffect(() => {\n    function getUserMakes() {\n      if (account) {\n        try {\n          client.api.smartContract.invokeWasmRead({\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'get_user_makes',\n            args: [\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n          .then((makeStr) => {\n            const parsedMakes = []\n            const strReader = new StringReader(makeStr)\n            const makeCount = strReader.readNextLen()\n            for (let i = 0; i < makeCount; i++) {\n              const make = {}\n              make.address = client.api.utils.hexToAddress(strReader.read(20))\n              make.asset_token_id = strReader.readUint128()\n              make.price_token_id = strReader.readUint128()\n              make.price = strReader.readUint128()\n              make.amount = strReader.readUint128()\n              make.make_id = strReader.readUint128()\n    \n              parsedMakes.push(make)\n            }\n    \n            setMyMakes(parsedMakes)\n          })\n          .catch((e) => {\n            handleError(e, (errorCode) => {\n              if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n                setStopInterval(true)\n              } else {\n                console.log('get user makes', e)\n              }\n            })\n          })\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    getUserMakes()\n    const interval = !stopInterval && setInterval(getUserMakes, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [assetToken, priceToken, account, stopInterval])\n\n  useEffect(() => {\n    async function getStat() {\n      if (tokens.length) {\n        try {\n          const statStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'stat',\n            args: []\n          })\n          \n          const tokenPool = []\n          const strReader = new StringReader(statStr)\n          setFeeRate(strReader.readUint128())\n          const tokenCount = strReader.readNextLen()\n  \n          for (let i = 0; i < tokenCount; i++) {\n            const token = {}\n            token.id = strReader.readUint128()\n            const tempToken = tokens.filter((t) => t.id === token.id)[0]\n            token.balance = new BigNumber(strReader.readUint128()).div(new BigNumber(10 ** tempToken.decimals)).toString()\n            token.name = tempToken.name\n  \n            tokenPool.push(token)\n          }\n  \n          setPool(tokenPool)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get stat', e)\n            }\n          })\n        }\n      }\n    }\n\n    getStat()\n    const interval = setInterval(() => {\n      if (stopInterval) {\n        clearInterval(interval)\n      } else {\n        getStat()\n      }\n    }, 5000)\n    return () => clearInterval(interval)\n  }, [tokens, stopInterval])\n\n  useEffect(() => {\n    setTotal((price || 0) * (amount || 0))\n  }, [price, amount])\n\n  useEffect(() => {\n    setMakeView('all')\n  }, [account])\n\n\n  const generateTokenSelection = (type) => {\n    if (tokens.length) {\n      const CustomOption = (props) => (\n        <components.Option {...props}>\n          <div className=\"option-wrapper\">\n            <div className={`icon-${props.label} option-icon`}></div>\n            <div className=\"option-label\">{props.label}</div>\n          </div>\n        </components.Option>\n      )\n      const SingleValue = ({ children, ...props }) => (\n        <components.SingleValue {...props}>\n          <div className=\"option-wrapper\">\n            <div className={`icon-${children} option-icon`}></div>\n            <div className=\"option-label\">{children}</div>\n          </div>\n        </components.SingleValue>\n      )\n      const onChangeToken = (type === 'asset' ? onChangeAssetToken : onChangePriceToken)\n      let defaultToken = {}\n      let tempToken = {}\n      if (type === 'asset') {\n        tempToken = tokens.filter((t) => urlAssetTokenId === t.id)[0]\n        defaultToken = tempToken || tokens[0]\n      } else {\n        tempToken = tokens.filter((t) => urlPriceTokenId === t.id)[0]\n        defaultToken = tempToken || tokens[1]\n      }\n      return (\n        <Select\n          className=\"token-select\"\n          defaultValue={defaultToken}\n          options={tokens}\n          isSearchable={false}\n          components={{ Option: CustomOption, SingleValue }}\n          onChange={(e) => onChangeToken(e)}\n          theme={theme => ({\n            ...theme,\n            borderRadius: 0,\n            colors: {\n              ...theme.colors,\n              primary: '#2c2c2c',\n            },\n          })}\n        />\n      )\n    }\n  }\n\n  function onChangeToUserMakeView() {\n    if (account) {\n      setMakeView('my')\n    } else {\n      Alert.show('Please Connect Wallet First')\n    }\n  }\n\n  function getMakes(type) {\n    if (assetToken.id) {\n      const curMakes = (makeView === 'my' ? myMakes : makes)\n      if (type === 'sell') {\n        return curMakes.filter((m) => m.asset_token_id === assetToken.id && m.price_token_id === priceToken.id).map((m) => {\n          return (\n            <div key={m.make_id} className=\"my-make-item reverse\">\n              <div className=\"make-item-detail make-sell\">{m.price / PRICE_DECIMALS}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).div(Math.pow(10, assetToken.decimals)).toString()}</div>\n              {/* <div className=\"make-item-detail\">{new BigNumber(m.amount).times(m.price).div(Math.pow(10, assetToken.decimals)).div(PRICE_DECIMALS).toString()}</div> */}\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>Cancel</div> }\n            </div>)\n        })\n      } else {\n        return curMakes.filter((m) => m.asset_token_id === priceToken.id && m.price_token_id === assetToken.id).map((m) => {\n          return (\n            <div key={m.make_id} className=\"my-make-item\">\n              <div className=\"make-item-detail make-buy\">{PRICE_DECIMALS / m.price}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).times(m.price).div(PRICE_DECIMALS).div(Math.pow(10, priceToken.decimals)).toString()}</div>\n              {/* <div className=\"make-item-detail\">{new BigNumber(m.amount).div(Math.pow(10, priceToken.decimals)).toString()}</div> */}\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>Cancel</div> }\n            </div>)\n        })\n      }\n    }\n    return null\n  }\n\n\n\n  async function onMake() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    if (assetToken.id) {\n      if (assetToken.id === priceToken.id) {\n        Alert.error('Please select different token')\n        return\n      }\n      if (price <= 0) {\n        Alert.error('Price should be greater than 0')\n        return\n      }\n      if (amount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: assetToken.id\n          },\n          {\n            type: 'Long',\n            value: priceToken.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(price).times(PRICE_DECIMALS).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(amount).times(new BigNumber(10 ** assetToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const makeResult = await client.api.smartContract.invokeWasm({\n          scriptHash: CONTRACT_ADDRESS,\n          operation: 'make',\n          args,\n          gasPrice: 2500,\n          gasLimit: 3000000,\n          requireIdentity: false\n        })\n\n        if (makeResult.transaction) {\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `https://explorer.ont.io/transaction/${makeResult.transaction}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          extraText: `${e}`,\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  async function onUnmake(makeId) {\n    if (account && makeId) {\n      try {\n        await client.api.smartContract.invokeWasm({\n          scriptHash: CONTRACT_ADDRESS,\n          operation: 'unmake',\n          args: [\n            {\n              type: 'Address',\n              value: account\n            },\n            {\n              type: 'Long',\n              value: makeId\n            }\n          ],\n          gasPrice: 2500,\n          gasLimit: 3000000,\n          requireIdentity: false\n        })\n      } catch (e) {\n        console.log('onunmake', e)\n      }\n    }\n  }\n\n  function generatePriceHint() {\n    if (assetToken.id) {\n      return `1 ${assetToken.name} = ${price || '?'} ${priceToken.name}`\n    }\n  }\n\n  function getAmountHint() {\n    if (assetToken.id) {\n      return assetToken.name\n    }\n  }\n\n  function getPriceToken() {\n    if (assetToken.id && priceToken.id) {\n      return `${assetToken.name}/${priceToken.name}`\n    }\n  }\n\n  function onChangeAssetToken(e) {\n    if (e.value !== assetToken.id) {\n      setAssetToken(tokens.filter((t) => t.id === e.value)[0])\n    }\n  }\n\n  function onChangePriceToken(e) {\n    if (e.value !== priceToken.id) {\n      setPriceToken(tokens.filter((t) => t.id === e.value)[0])\n    }\n  }\n\n  function generateTokenPool() {\n    if (pool.length) {\n      return pool.filter((tp) => tp.balance != 0).map((tp) => {\n        return (\n          <div className=\"pool-item\" key={tp.name}>\n            <div className={`icon-${tp.name} token-name`}>{tp.name}</div>\n            <div className=\"token-balance\">{tp.balance}</div>\n          </div>\n        )\n      })\n    }\n  }\n\n  function renderLoading() {\n    if (loadingToken) {\n      return (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"modal-icon-loading modal-icon\"></div>\n            <div className=\"modal-text\">Loading Tokens</div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  return (\n    <div className=\"swap-wrapper\">\n      {renderLoading()}\n      {/* <div className=\"notice-wrapper\">\n        <ReactTooltip />\n        <span data-tip=\"The governance token of uniq-ex\">UNX</span> is currently open to <a target=\"_blank\" rel=\"noreferrer\" href=\"https://uniq-ex.github.io/#asset=8&price=14\">transaction</a>!\n      </div> */}\n      <div className=\"trade-container\">\n        <div className=\"make-wrapper\">\n          <div className=\"container-header\">Trade</div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Sell</div>\n            <div className=\"input-wrapper\">\n              {generateTokenSelection('asset')}\n              <input className=\"input inline-input\" placeholder=\"Amount\" type=\"number\" onChange={(event) => setAmount(event.target.value)}></input>\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Price\n              <span className=\"hint\">{generatePriceHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <input className=\"input\" placeholder=\"Price\" type=\"number\" onChange={(event) => setPrice(event.target.value)}></input>\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Will Get</div>\n            <div className=\"input-wrapper\">\n              {generateTokenSelection('price')}\n              <input className=\"input inline-input\" disabled type=\"number\" value={total}></input>\n            </div>\n          </div>\n          { feeRate ? <p className=\"fee-rate\">* The fee rate of transaction is {feeRate / 100}%</p> : null }\n          <div className=\"make-btn\" onClick={() => onMake()}>Sell</div>\n        </div>\n        <div className=\"trade-panel\">\n          <div className=\"panel-header\">\n            <div className=\"panel-title\">Order Book</div>\n            <div className=\"tabs\">\n              <div className={makeView === 'all' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => setMakeView('all')}>All</div>\n              <div className={makeView === 'my' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => onChangeToUserMakeView()}>My</div>\n            </div>\n          </div>\n          <div className=\"list-title\">\n            <div className=\"blank-placeholder\"></div>\n            <div className=\"title-items\">\n              <div className=\"item-text\">Price ({getPriceToken()})</div>\n              <div className=\"item-text\">Amount ({getAmountHint()})</div>\n              {/* <div className=\"item-text\">Total</div> */}\n              { makeView === 'my' && <div className=\"item-placeholder\"></div> }\n            </div>\n          </div>\n          <div className=\"sell-section\">\n            <div className=\"section-title\">Sell</div>\n            <div className=\"make-list reverse\">\n            {getMakes('sell')}\n            </div>\n          </div>\n          {\n            (makeView === 'all' && lastPrice != 0) ? <div className=\"last-price-wrapper\">\n              <div className=\"last-price-label\">Last Price</div>\n              <div className=\"last-price\">{lastPrice}</div>\n              <div className=\"last-price-placeholder\"></div>\n            </div> : null\n          }\n          <div className=\"buy-section\">\n            <div className=\"section-title\">Buy</div>\n            <div className=\"make-list\">\n            {getMakes('buy')}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"token-pool\">\n        <div className=\"container-header\">Token Balance</div>\n        <div className=\"pool-items\">\n        {generateTokenPool()}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Transaction","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport { useFetchStakingTokens } from '../../hooks/token'\n// import ReactTooltip from 'react-tooltip'\nimport { handleError } from '../../utils/errorHandle'\nimport { STAKING_ADDRESS } from '../../config'\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst Staking = () => {\n  const [stakeToken, setStakeToken] = useState({})\n  const [stakingInfo, setStakingInfo] = useState({})\n  const [amount, setAmount] = useState('')\n  const [myStakes, setMyStakes] = useState([])\n  const [stakeType, setStakeType] = useState('stake')\n  const [showStakingModal, setShowStakingModal] = useState(false)\n  const { account, loadingStakingToken, stopStakingInterval, stakingTokens } = useMappedState((state) => ({\n    account: state.wallet.account,\n    loadingStakingToken: state.common.loadingStakingToken,\n    stopStakingInterval: state.common.stopStakingInterval,\n    stakingTokens: state.common.stakingTokens\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const setStopStakingInterval = useCallback((stopStakingInterval) => dispatch({ type: 'SET_STOP_STAKING_INTERVAL', stopStakingInterval }), [])\n\n  const Alert = useAlert()\n\n  useEffect(() => {\n    client.api.smartContract.invokeWasmRead({\n      scriptHash: STAKING_ADDRESS,\n      operation: 'staking_info',\n      args: []\n    })\n    .then((infoStr) => {\n      const info = {}\n      const strReader = new StringReader(infoStr)\n      info.amount = strReader.readUint128()\n      info.period = strReader.readUint128()\n      info.start_time = strReader.readUint128()\n      info.settled_time = strReader.readUint128()\n      info.interest = info.amount / info.period\n\n      setStakingInfo(info)\n    })\n    .catch((e) => {\n      handleError(e, (errorCode) => {\n        if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n          setStopStakingInterval(true)\n        } else {\n          console.log('get staking info', e)\n        }\n      })\n    })\n  }, [])\n\n  useFetchStakingTokens()\n\n  useEffect(() => {\n    if (stakingTokens.length) {\n      if (!stakeToken.id) {\n        setStakeToken(stakingTokens[0])\n      }\n      getAccountStakes()\n    }\n  }, [stakingTokens])\n\n  useEffect(() => {\n    if (account && stakingTokens.length) {\n      getAccountStakes()\n      const interval = !stopStakingInterval && setInterval(getAccountStakes, 5000)\n      return () => {\n        interval && clearInterval(interval)\n      }\n    }\n  }, [stakingTokens, account])\n\n  useEffect(() => {\n    if (!account) {\n      setMyStakes([])\n    }\n  }, [account])\n\n  function getAccountStakeByTokenId(id) {\n    return client.api.smartContract.invokeWasmRead({\n      scriptHash: STAKING_ADDRESS,\n      operation: 'account_stake_info',\n      args: [\n        {\n          type: 'Address',\n          value: account\n        },\n        {\n          type: 'Long',\n          value: id\n        }\n      ]\n    }).then((stakeStr) => {\n      const strReader = new StringReader(stakeStr)\n      return {\n        id,\n        balance: strReader.readUint128(),\n        interest: strReader.readUint128()\n      }\n    })\n  }\n\n  function getAccountStakes() {\n    if (account && stakingTokens.length) {\n      Promise.all(stakingTokens.map((t) => getAccountStakeByTokenId(t.id)))\n      .then((stakes) => {\n        setMyStakes(stakes)\n      })\n      .catch((e) => {\n        handleError(e, (errorCode) => {\n          if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n            setStopStakingInterval(true)\n          } else {\n            console.log('get account stakes', e)\n          }\n        })\n      })\n    }\n  }\n\n  async function onStake() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    if (stakeToken.id) {\n      if (amount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      if (stakeType === 'unstake' && amount > myStakes.find((s) => s.id === stakeToken.id).balance) {\n        Alert.error('Amount should be less than your balance')\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: stakeToken.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(amount).times(new BigNumber(10 ** stakeToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const stakeResult = await client.api.smartContract.invokeWasm({\n          scriptHash: STAKING_ADDRESS,\n          operation: stakeType,\n          args,\n          gasPrice: 2500,\n          gasLimit: 3000000,\n          requireIdentity: false\n        })\n\n        if (stakeResult.transaction) {\n          setStakeType('stake')\n          setShowStakingModal(false)\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: `${stakeType === 'stake' ? 'Stake' : 'Unstake'} Successful`,\n            extraText: 'View Transaction',\n            extraLink: `https://explorer.ont.io/transaction/${stakeResult.transaction}`\n          })\n        }\n      } catch (e) {\n        setStakeType('stake')\n        setShowStakingModal(false)\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: `${stakeType === 'stake' ? 'Stake' : 'Unstake'} Failed`,\n          extraText: `${e}`,\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  function renderLoading() {\n    if (loadingStakingToken) {\n      return (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\"></div>\n            <div className=\"modal-icon-loading modal-icon\"></div>\n            <div className=\"modal-text\">Loading Staking Tokens</div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  function onChooseToken(token) {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    setStakeToken(token)\n    setShowStakingModal(true)\n  }\n\n  function generateStakingPool() {\n    if (stakingTokens.length) {\n      return stakingTokens.map((token) => {\n        const myStake = myStakes.find((s) => s.id === token.id) || {}\n        return (\n          <div className=\"pool-list-item\" key={token.name}>\n            <div className={`icon-${token.name} item-detail`}>\n              <div className=\"token-name\">{token.name}</div>\n              <div className=\"token-balance\">Balance<p>{new BigNumber(token.balance || 0).div(10 ** token.decimals).toString()}</p></div>\n              <div className=\"interest-rate\">Interest Rate<p>{(stakingInfo.interest && token.weight) ? (stakingInfo.interest * token.weight / (10 ** 9)).toFixed(9) : 0} <span>UNX/s</span></p></div>\n              <div className=\"staked-amount\">Staked<p>{new BigNumber(myStake.balance || 0).div(10 ** token.decimals).toString()} <span>{token.name}</span></p></div>\n              <div className=\"earned-amount\">Earned<p>{new BigNumber(myStake.interest || 0).div(10 ** 9).toString()} <span>UNX</span></p></div>\n              <div className=\"deposit-btn\" onClick={() => onChooseToken(token)}>Deposit</div>\n            </div>\n          </div>\n        )\n      })\n    }\n  }\n\n  return (\n    <div className=\"stake-container\">\n      {renderLoading()}\n      <div className=\"stake-pool\">\n        <div className=\"title\"></div>\n        <div className=\"pool-list\">\n          {generateStakingPool()}\n        </div>\n      </div>\n      { showStakingModal ? (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => { setStakeType('stake'); setShowStakingModal(false) }}></div>\n            <div className=\"stake-wrapper\">\n              <div className=\"stake-tabs\">\n                <div className={`${stakeType === 'stake' ? 'selected' : ''} stake-tab-item`} onClick={() => setStakeType('stake')}>Stake</div>\n                <div className={`${stakeType === 'unstake' ? 'selected' : ''} stake-tab-item`} onClick={() => setStakeType('unstake')}>Unstake</div>\n              </div>\n              <div className={`icon-${stakeToken.name} token-placeholder`}></div>\n              <div className=\"form-item\">\n                <div className=\"input-wrapper\">\n                  <input className=\"input inline-input\" placeholder=\"Amount\" type=\"number\" onChange={(event) => setAmount(event.target.value)}></input>\n                </div>\n              </div>\n              <div className=\"stake-btn\" onClick={() => onStake()}>Confirm</div>\n            </div>\n          </div>\n        </div>\n      ) : null }\n    </div>\n  )\n}\n\nexport default Staking","import React from 'react'\nimport './index.css'\n\nconst Token = (props) => {\n  return (\n    <div className=\"coming-soon-placeholder\"></div>\n  )\n}\n\nexport default Token","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useCallback } from 'react'\nimport {\n  // BrowserRouter as Router,\n  HashRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport Header from './components/header'\nimport Modal from './components/modal'\nimport Transaction from './pages/transaction'\nimport Staking from './pages/staking'\nimport Token from './pages/token'\nimport { NETWORK_TYPE, READY_TABS } from './config'\nimport './App.css'\n\nexport const App = () => {\n  const Alert = useAlert()\n  const { account } = useMappedState((state) => ({\n    account: state.wallet.account\n  }))\n  const dispatch = useDispatch()\n  const setAccount = useCallback((account) => dispatch({ type: 'SET_ACCOUNT', account }), [])\n\n  async function onConnectWallet() {\n    try {\n      await client.api.provider.getProvider()\n      const network = await client.api.network.getNetwork()\n      if (network && network.type !== NETWORK_TYPE) {\n        Alert.error(`Please connect to the ${NETWORK_TYPE}-Net`)\n        return\n      }\n      const accountAddress = await client.api.asset.getAccount()\n      setAccount(accountAddress)\n      localStorage.setItem('account', accountAddress)\n    } catch (e) {\n      if (e === 'NO_PROVIDER') {\n        Alert.error('Please install wallet extension first')\n      }\n    }\n  }\n\n  function onSignOut() {\n    setAccount('')\n    localStorage.setItem('account', '')\n  }\n\n  return (\n    <Router>\n      <div className=\"app\">\n        {\n          (account === null) && <div className=\"connect-wallet-overlay\">\n            <div className=\"connect-wrapper\">\n              <p className=\"connect-title\">Connect Wallet</p>\n              <div className=\"wallet-item\" onClick={() => onConnectWallet()}>Cyano Wallet</div>\n            </div>\n          </div>\n        }\n        <Modal />\n        <Header onSignOut={() => onSignOut()} onConnectWallet={() => onConnectWallet()} />\n        <div className=\"main-wrapper\">\n          <Switch>\n            {\n              READY_TABS.indexOf('/') >= 0 ?\n              <Route exact path=\"/\">\n                <Transaction />\n              </Route> : null\n            }\n            {\n              READY_TABS.indexOf('/staking') >= 0 ?\n              <Route exact path=\"/staking\">\n                <Staking />\n              </Route> : null\n            }\n            {\n              READY_TABS.indexOf('/token') >= 0 ?\n              <Route exact path=\"/token\">\n                <Token />\n              </Route> : null\n            }\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  )\n}\n","const initState = {\n  infoModal: {\n    show: false,\n    type: '',\n    text: '',\n    extraText: '',\n    extraLink: ''\n  },\n}\n\nexport const modal = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_MODAL':\n      return { ...state, [action.modalType]: action.modalDetail }\n    default:\n      return { ...state }\n  }\n}","const initState = {\n  account: localStorage.getItem('account')\n}\n\nexport const wallet = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_ACCOUNT':\n      return { ...state, account: action.account }\n    default:\n      return { ...state }\n  }\n}","const initState = {\n  loadingToken: true,\n  stopInterval: false,\n  tokens: [],\n  loadingStakingToken: true,\n  stopStakingInterval: false,\n  stakingTokens: []\n}\n\nexport const common = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_LOADING_TOKEN':\n      return { ...state, loadingToken: action.loadingToken }\n    case 'SET_STOP_INTERVAL':\n      return { ...state, stopInterval: action.stopInterval }\n    case 'SET_TOKENS':\n      return { ...state, tokens: action.tokens }\n    case 'SET_LOADING_STAKING_TOKEN':\n      return { ...state, loadingStakingToken: action.loadingStakingToken }\n    case 'SET_STOP_STAKING_INTERVAL':\n      return { ...state, stopStakingInterval: action.stopStakingInterval }\n    case 'SET_STAKING_TOKENS':\n      return { ...state, stakingTokens: action.stakingTokens }\n    default:\n      return { ...state }\n  }\n}\n","import { combineReducers } from 'redux'\nimport { modal } from './modal'\nimport { wallet } from './wallet'\nimport { common } from './common'\n\nconst reducers = combineReducers({\n  modal,\n  wallet,\n  common\n})\n\nexport default reducers","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport * as Ontology from '@ont-dev/ontology-dapi';\nimport { positions, Provider } from \"react-alert\";\nimport { createStore } from 'redux';\nimport { StoreContext } from 'redux-react-hook';\nimport AlertTemplate from \"react-alert-template-basic\";\nimport reducers from './reducers';\nimport reportWebVitals from './reportWebVitals';\n\nimport './index.css';\n\nconst store = createStore(reducers)\n\nOntology.client.registerClient({});\n\nconst options = {\n  timeout: 5000,\n  position: positions.TOP_CENTER\n};\n\nReactDOM.render(\n  <Provider template={AlertTemplate} {...options}>\n    <StoreContext.Provider value={store}>\n      <App />\n    </StoreContext.Provider>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}